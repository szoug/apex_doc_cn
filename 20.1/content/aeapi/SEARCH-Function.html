<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="DC.Type" content="reference">
      <meta name="DC.Title" content="SEARCH Function">
      <meta name="DC.Relation" scheme="URI" content="APEX_LDAP.html#GUID-0BE5C87B-BF08-4B80-BA42-5A08CE5923AC">
      <meta name="DC.Creator" content="Harish Konakondla">
      <meta name="DC.Creator" content="Christina Cho">
      <meta name="DC.Creator" content="Hilary Farrell">
      <meta name="DC.Creator" content="Joel Kallman">
      <meta name="DC.Creator" content="Sharon Kennedy">
      <meta name="DC.Creator" content="Christian Neumueller">
      <meta name="DC.Creator" content="Anthony Raynor">
      <meta name="DC.Creator" content="Marc Sewtz">
      <meta name="DC.Creator" content="John Snyders">
      <meta name="DC.Creator" content="Jason Straub">
      <meta name="DC.Creator" content="Vladislav Unarov">
      <meta name="DC.Creator" content="Patrick Wolf">
      <meta name="DC.Creator" content="Terri Jennings">
      <meta name="DC.Publisher" content="May2020">
      <meta name="DC.Format" content="XHTML">
      <meta name="DC.Identifier" content="GUID-A4A143A2-DFD9-4AF1-B871-16123339905B">
      <meta name="DC.Language" content="en-US">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>SEARCH Function</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-application-express-api-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2020-05-22T13:42:07-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2020">
      <meta name="dcterms.category" content="database">
      
      
      <meta name="dcterms.product" content="en/database/oracle/application-express/20.1">
      
      <link rel="prev" href="MEMBER_OF2-Function.html" title="Previous" type="text/html">
      <link rel="next" href="APEX_MAIL.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"application-express","element_name":"Application Express","display_in_url":true},"release":{"short_name":"20.1","element_name":"Release 20.1","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Application Express API Reference">
    <meta name="dcterms.isVersionOf" content="AEAPI">
    <meta name="dcterms.identifier" content="F24719-02">
    <meta name="dcterms.release" content="Release 20.1">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="MEMBER_OF2-Function.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="APEX_MAIL.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="APEX_LDAP.html" property="item" typeof="WebPage"><span property="name"> APEX_LDAP</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SEARCH Function</li>
            </ol>
            <a id="GUID-A4A143A2-DFD9-4AF1-B871-16123339905B" name="GUID-A4A143A2-DFD9-4AF1-B871-16123339905B"></a><a id="AEAPI30151"></a><a id="AEAPI30152"></a><a id="AEAPI30153"></a><a id="AEAPI30154"></a><a id="AEAPI30155"></a><a id="AEAPI30150"></a>
            
            <h2 id="AEAPI-GUID-A4A143A2-DFD9-4AF1-B871-16123339905B" class="sect2"><span class="enumeration_section">26.7 </span>SEARCH Function
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>The <code class="codeph">SEARCH</code> function searches the LDAP repository. The result is an object table of (dn, name, val) that can be used in table queries.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A4A143A2-DFD9-4AF1-B871-16123339905B__GUID-DE16D3E2-6017-4710-8FCC-3BDC256DBB3B">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section"><pre class="pre codeblock"><code>function search (
   	    p_username          IN VARCHAR2 DEFAULT NULL,
   	    p_pass              IN VARCHAR2 DEFAULT NULL,
   	    p_auth_base         IN VARCHAR2 DEFAULT NULL,
   	    p_host              IN VARCHAR2,
   	    p_port              IN NUMBER DEFAULT 389,
   	    p_use_ssl           IN VARCHAR2 DEFAULT 'N',
   	    p_search_base       IN VARCHAR2,
   	    p_search_filter     IN VARCHAR2,
   	    p_scope             IN BINARY_INTEGER DEFAULT SYS.DBMS_LDAP.SCOPE_SUBTREE,
   	    p_timeout_sec       IN BINARY_INTEGER DEFAULT 3,
   	    p_attribute_names   IN VARCHAR2 )
   	    RETURN APEX_T_LDAP_ATTRIBUTES PIPELINED;</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A4A143A2-DFD9-4AF1-B871-16123339905B__GUID-96C90866-04F3-4867-B3A1-88A7ABC22ECD">Parameters</p>
                  <div class="tblformal" id="GUID-A4A143A2-DFD9-4AF1-B871-16123339905B__BEHGEFDA">
                     <p class="titleintable">Table 26-7 Search Parameters</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Search Parameters" summary="Parameter descriptions for the SEARCH function." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d130068e71">Parameter</th>
                              <th align="left" valign="bottom" width="69%" id="d130068e74">Descriptions</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e79" headers="d130068e71 ">
                                 <p><code class="codeph">p_username</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e79 d130068e74 ">
                                 <p>Login name of the user (can be <code class="codeph">NULL</code> for anonymous binds).
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e90" headers="d130068e71 ">
                                 <p><code class="codeph">p_pass</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e90 d130068e74 ">
                                 <p>The password for <code class="codeph">p_username</code> (can be <code class="codeph">NULL</code> for anonymous binds)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e104" headers="d130068e71 ">
                                 <p><code class="codeph">p_auth_base</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e104 d130068e74 ">
                                 <p>The authentication base dn for <code class="codeph">p_username</code> (for example, <code class="codeph">dc=users,dc=my,dc=org</code>). Can be <code class="codeph">NULL</code> for anonymous binds.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e121" headers="d130068e71 ">
                                 <p><code class="codeph">p_host</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e121 d130068e74 ">
                                 <p>The LDAP server host name.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e129" headers="d130068e71 ">
                                 <p><code class="codeph">p_port</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e129 d130068e74 ">
                                 <p>The LDAP server port number.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e137" headers="d130068e71 ">
                                 <p><code class="codeph">p_use_ssl</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e137 d130068e74 ">
                                 <p>Set to 'Y' to use SSL in bind to LDAP server. Set to 'A' to use SSL with one way authentication (requires LDAP server certificate configured in an Oracle wallet). Set to 'N' to not use SSL (default).</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e145" headers="d130068e71 ">
                                 <p><code class="codeph">p_search_base</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e145 d130068e74 ">
                                 <p>dn base for the search.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e153" headers="d130068e71 ">
                                 <p><code class="codeph">p_search_filter</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e153 d130068e74 ">
                                 <p>LDAP search filter expression.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e161" headers="d130068e71 ">
                                 <p><code class="codeph">p_scope</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e161 d130068e74 ">
                                 <p>Search scope (default descends into subtrees).</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e169" headers="d130068e71 ">
                                 <p><code class="codeph">p_timeout_sec</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e169 d130068e74 ">
                                 <p>Timeout for the search (default is 3 seconds)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d130068e177" headers="d130068e71 ">
                                 <p><code class="codeph">p_attribute_names</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d130068e177 d130068e74 ">
                                 <p>Comma separated list of return attribute names</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A4A143A2-DFD9-4AF1-B871-16123339905B__GUID-E07D0F48-9014-4FA1-BFE4-DF464B2C2768">Example 1</p>
               </div>
               <!-- class="section" -->
               <div class="section"><pre class="pre codeblock"><code>SELECT val group_dns
  FROM table(apex_ldap.search (
           p_host            =&gt; 'ldap.example.com',
           p_search_base     =&gt; 'dc=example,dc=com',
           p_search_filter   =&gt; 'uid='||apex_escape.ldap_search_filter(:APP_USER),
           p_attribute_names =&gt; 'memberof' ));</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-A4A143A2-DFD9-4AF1-B871-16123339905B__GUID-4BAC36F0-F9A0-4255-8CCD-2C838AA09E94">Example 2</p>
               </div>
               <!-- class="section" -->
               <div class="section"><pre class="pre codeblock"><code>SELECT dn, mail, dispname, phone
  from ( select dn, name, val
           from table(apex_ldap.search (
                          p_host            =&gt; 'ldap.example.com',
                          p_search_base     =&gt; 'dc=example,dc=com',
                          p_search_filter   =&gt; '&amp;(objectClass=person)(ou=Test)',
                          p_attribute_names =&gt; 'mail,displayname,telephonenumber' )))
  pivot (min(val) for name in ( 'mail'            mail,
                                'displayname'     dispname,
                                'telephonenumber' phone ))</code></pre></div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="APEX_LDAP.html#GUID-0BE5C87B-BF08-4B80-BA42-5A08CE5923AC">APEX_LDAP</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>