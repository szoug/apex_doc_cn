<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="DC.Type" content="reference">
      <meta name="DC.Title" content="MERGE_MEMBERS Procedure">
      <meta name="DC.subject" content="APEX_COLLECTION, MERGE_MEMBERS procedure">
      <meta name="keywords" content="APEX_COLLECTION, MERGE_MEMBERS procedure">
      <meta name="DC.Relation" scheme="URI" content="APEX_COLLECTION.html#GUID-859B488C-2628-44D7-969F-50872C685B76">
      <meta name="DC.Creator" content="Harish Konakondla">
      <meta name="DC.Creator" content="Christina Cho">
      <meta name="DC.Creator" content="Hilary Farrell">
      <meta name="DC.Creator" content="Joel Kallman">
      <meta name="DC.Creator" content="Sharon Kennedy">
      <meta name="DC.Creator" content="Christian Neumueller">
      <meta name="DC.Creator" content="Anthony Raynor">
      <meta name="DC.Creator" content="Marc Sewtz">
      <meta name="DC.Creator" content="John Snyders">
      <meta name="DC.Creator" content="Jason Straub">
      <meta name="DC.Creator" content="Vladislav Unarov">
      <meta name="DC.Creator" content="Patrick Wolf">
      <meta name="DC.Creator" content="Terri Jennings">
      <meta name="DC.Publisher" content="May2020">
      <meta name="DC.Format" content="XHTML">
      <meta name="DC.Identifier" content="GUID-B73EC254-C04A-496D-8389-E5BCC30E89A5">
      <meta name="DC.Language" content="en-US">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>MERGE_MEMBERS Procedure</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-application-express-api-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2020-05-22T13:42:07-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2020">
      <meta name="dcterms.category" content="database">
      
      
      <meta name="dcterms.product" content="en/database/oracle/application-express/20.1">
      
      <link rel="prev" href="GET_MEMBER_MD5-Function.html" title="Previous" type="text/html">
      <link rel="next" href="MOVE_MEMBER_DOWN-Procedure.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"application-express","element_name":"Application Express","display_in_url":true},"release":{"short_name":"20.1","element_name":"Release 20.1","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Application Express API Reference">
    <meta name="dcterms.isVersionOf" content="AEAPI">
    <meta name="dcterms.identifier" content="F24719-02">
    <meta name="dcterms.release" content="Release 20.1">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="GET_MEMBER_MD5-Function.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="MOVE_MEMBER_DOWN-Procedure.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="APEX_COLLECTION.html" property="item" typeof="WebPage"><span property="name"> APEX_COLLECTION </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">MERGE_MEMBERS Procedure</li>
            </ol>
            <a id="GUID-B73EC254-C04A-496D-8389-E5BCC30E89A5" name="GUID-B73EC254-C04A-496D-8389-E5BCC30E89A5"></a><a id="AEAPI769"></a><a id="AEAPI770"></a><a id="AEAPI771"></a><a id="AEAPI772"></a><a id="AEAPI768"></a>
            
            <h2 id="AEAPI-GUID-B73EC254-C04A-496D-8389-E5BCC30E89A5" class="sect2"><span class="enumeration_section">8.42 </span>MERGE_MEMBERS Procedure
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>Use this procedure to merge members of the given named collection with the values passed in the arrays. If the named collection does not exist one is created. If a p_init_query is provided, the collection is created from the supplied SQL query. If the named collection exists, the following occurs:</p>
                  <ol>
                     <li>
                        <p>Rows in the collection and not in the arrays are deleted.</p>
                     </li>
                     <li>
                        <p>Rows in the collections and in the arrays are updated.</p>
                     </li>
                     <li>
                        <p>Rows in the arrays and not in the collection are inserted.</p>
                     </li>
                  </ol>
                  <p>The count of elements in the p_c001 PL/SQL table is used as the total number of items across all PL/SQL tables. For example, if p_c001.count is 2 and p_c002.count is 10, only 2 members are merged. If p_c001 is null an application error is raised.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B73EC254-C04A-496D-8389-E5BCC30E89A5__GUID-AF94F93F-4935-40AE-AD40-9C6BB8531614">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section"><pre class="pre codeblock"><code>APEX_COLLECTION.MERGE_MEMBERS (
    p_collection_name IN VARCHAR2,
    p_seq  IN APEX_APPLICATION_GLOBAL.VC_ARR2 DEFAULT empty_vc_arr,
    p_c001 IN APEX_APPLICATION_GLOBAL.VC_ARR2 DEFAULT empty_vc_arr,
    p_c002 IN APEX_APPLICATION_GLOBAL.VC_ARR2 DEFAULT empty_vc_arr,
    p_c003 IN APEX_APPLICATION_GLOBAL.VC_ARR2 DEFAULT empty_vc_arr,
    ...
    p_c050 IN APEX_APPLICATION_GLOBAL.VC_ARR2 DEFAULT empty_vc_arr,
    p_null_index  IN NUMBER DEFAULT 1,
    p_null_value  IN VARCHAR2 DEFAULT null,
    p_init_query  IN VARCHAR2 DEFAULT null);</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B73EC254-C04A-496D-8389-E5BCC30E89A5__GUID-D59402F1-0EA3-4F40-86E5-50D0333FE472">Parameters</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="infoboxnote" id="GUID-B73EC254-C04A-496D-8389-E5BCC30E89A5__GUID-1290D9FC-9625-496B-9DF5-9334CD89C129">
                     <p class="notep1">Note:</p>
                     <p>Any character attribute exceeding 4,000 characters is truncated to 4,000 characters. Also, the number of members added is based on the number of elements in the first array.</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-B73EC254-C04A-496D-8389-E5BCC30E89A5__CJAGACGH">
                  <p class="titleintable">Table 8-19 MERGE_MEMBERS Procedure Parameters</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="MERGE_MEMBERS Procedure Parameters" summary="Parameter descriptions for the MERGE_MEMBERS procedure." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="31%" id="d33559e89">Parameter</th>
                           <th align="left" valign="bottom" width="69%" id="d33559e92">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d33559e97" headers="d33559e89 ">
                              <p><code class="codeph">p_collection_name</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d33559e97 d33559e92 ">
                              <p>The name of the collection. Maximum length is 255 bytes. Collection names are not case sensitive and are converted to upper case.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d33559e105" headers="d33559e89 ">
                              <p><code class="codeph">p_c001 through p_c050</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d33559e105 d33559e92 ">
                              <p>Array of attribute values to be merged. Maximum length is 4,000 bytes. Any character attribute exceeding 4,000 characters is truncated to 4,000 characters. The count of the p_c001 array is used across all arrays. If no values are provided then no actions are performed.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d33559e113" headers="d33559e89 ">
                              <p><code class="codeph">p_c0xx</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d33559e113 d33559e92 ">
                              <p>Attribute of NN attributes values to be merged. Maximum length can be 4,000 bytes. The attribute value is truncated to 4,000 bytes if greater than this amount.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d33559e121" headers="d33559e89 ">
                              <p><code class="codeph">p_seq</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d33559e121 d33559e92 ">
                              <p>Identifies the sequence number of the collection to be merged.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d33559e129" headers="d33559e89 ">
                              <p><code class="codeph">p_null_index</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d33559e129 d33559e92 ">
                              <p>That is if the element identified by this value is null, then treat this row as a null row. For example, if p_null_index is 3, then p_c003 is treated as a null row. In other words, tell the merge function to ignore this row. This results in the null rows being removed from the collection. The null index works with the null value. If the value of the <code class="codeph">p_cXXX</code> argument is equal to the p_null_value then the row is treated as null. 
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d33559e140" headers="d33559e89 ">
                              <p>p_null_value</p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d33559e140 d33559e92 ">
                              <p>Used with the p_null_index argument. Identifies the null value. If used, this value must not be null. A typical value for this argument is "0"</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d33559e147" headers="d33559e89 ">
                              <p>p_init_query</p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d33559e147 d33559e92 ">
                              <p>If the collection does not exist, the collection is created using this query.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B73EC254-C04A-496D-8389-E5BCC30E89A5__GUID-CC742610-7984-4B72-912E-47729B880394">Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following example creates a collection on the table of employees, and then merges the contents of the local arrays with the collection, updating the job of two employees.</p><pre class="pre codeblock"><code>DECLARE
    l_seq   APEX_APPLICATION_GLOBAL.VC_ARR2;
    l_c001  APEX_APPLICATION_GLOBAL.VC_ARR2;
    l_c002  APEX_APPLICATION_GLOBAL.VC_ARR2;
    l_c003  APEX_APPLICATION_GLOBAL.VC_ARR2;
BEGIN
    l_seq(1)  := 1;
    l_c001(1) := 7369;
    l_c002(1) := 'SMITH';
    l_c003(1) := 'MANAGER';
    l_seq(2)  := 2;
    l_c001(2) := 7499;
    l_c002(2) := 'ALLEN';
    l_c003(2) := 'CLERK';
 
    APEX_COLLECTION.MERGE_MEMBERS(
        p_collection_name =&gt; 'EMPLOYEES',
        p_seq =&gt; l_seq,
        p_c001 =&gt; l_c001,
        p_c002 =&gt; l_c002,
        p_c003 =&gt; l_c003,
        p_init_query =&gt; 'select empno, ename, job from emp order by empno');
END;</code></pre></div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="APEX_COLLECTION.html#GUID-859B488C-2628-44D7-969F-50872C685B76">APEX_COLLECTION</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>