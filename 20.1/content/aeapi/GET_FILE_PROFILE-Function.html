<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="DC.Type" content="reference">
      <meta name="DC.Title" content="GET_FILE_PROFILE Function">
      <meta name="DC.subject" content="APEX_DATA_PARSER, GET_FILE_PROFILE">
      <meta name="keywords" content="APEX_DATA_PARSER, GET_FILE_PROFILE">
      <meta name="DC.Relation" scheme="URI" content="APEX_DATA_PARSER.html#GUID-07E9397C-DF26-40F7-AC73-F46961E1088A">
      <meta name="DC.Creator" content="Harish Konakondla">
      <meta name="DC.Creator" content="Christina Cho">
      <meta name="DC.Creator" content="Hilary Farrell">
      <meta name="DC.Creator" content="Joel Kallman">
      <meta name="DC.Creator" content="Sharon Kennedy">
      <meta name="DC.Creator" content="Christian Neumueller">
      <meta name="DC.Creator" content="Anthony Raynor">
      <meta name="DC.Creator" content="Marc Sewtz">
      <meta name="DC.Creator" content="John Snyders">
      <meta name="DC.Creator" content="Jason Straub">
      <meta name="DC.Creator" content="Vladislav Unarov">
      <meta name="DC.Creator" content="Patrick Wolf">
      <meta name="DC.Creator" content="Terri Jennings">
      <meta name="DC.Publisher" content="May2020">
      <meta name="DC.Format" content="XHTML">
      <meta name="DC.Identifier" content="GUID-8036CFB0-5F82-437E-8D0E-D9304E538CB9">
      <meta name="DC.Language" content="en-US">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>GET_FILE_PROFILE Function</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-application-express-api-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2020-05-22T13:42:07-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2020">
      <meta name="dcterms.category" content="database">
      
      
      <meta name="dcterms.product" content="en/database/oracle/application-express/20.1">
      
      <link rel="prev" href="GET_COLUMNS-Function.html" title="Previous" type="text/html">
      <link rel="next" href="GET_FILE_TYPE-Function.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"application-express","element_name":"Application Express","display_in_url":true},"release":{"short_name":"20.1","element_name":"Release 20.1","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Application Express API Reference">
    <meta name="dcterms.isVersionOf" content="AEAPI">
    <meta name="dcterms.identifier" content="F24719-02">
    <meta name="dcterms.release" content="Release 20.1">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="GET_COLUMNS-Function.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="GET_FILE_TYPE-Function.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="APEX_DATA_PARSER.html" property="item" typeof="WebPage"><span property="name"> APEX_DATA_PARSER</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">GET_FILE_PROFILE Function</li>
            </ol>
            <a id="GUID-8036CFB0-5F82-437E-8D0E-D9304E538CB9" name="GUID-8036CFB0-5F82-437E-8D0E-D9304E538CB9"></a>
            
            <h2 id="AEAPI-GUID-8036CFB0-5F82-437E-8D0E-D9304E538CB9" class="sect2"><span class="enumeration_section">12.5 </span>GET_FILE_PROFILE Function
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>This function returns the current file profile in JSON format. A file profile is generated when the<code class="codeph"> parse()</code> table function runs and no file profile is passed in. The file profile contains meta data about the parsed files such as the CSV delimiter, the XLSX worksheet name and the columns found during parsing and their data types. 
                  </p>
                  <p>The typical call sequence is as follows:</p>
                  <ol id="GUID-8036CFB0-5F82-437E-8D0E-D9304E538CB9__OL_OMF_1JK_PGB">
                     <li>Invoke PARSE - Use this table function to parse the files and get rows and columns in order to display a data preview. While the function runs it computes the file parser profile which can be used in subsequent calls in order to further process the data.</li>
                     <li>Invoke <code class="codeph">GET_FILE_PROFILE</code> - Retrieve file profile information in JSON format.
                     </li>
                     <li>Process the data</li>
                  </ol>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8036CFB0-5F82-437E-8D0E-D9304E538CB9__GUID-8FE94E45-3979-4867-B82A-ABB8EE1DDFEF">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section"><pre class="pre codeblock"><code><span id="GUID-8036CFB0-5F82-437E-8D0E-D9304E538CB9__GET_FILE_PROFILE">FUNCTION GET_FILE_PROFILE RETURN CLOB;</span></code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8036CFB0-5F82-437E-8D0E-D9304E538CB9__GUID-97DEA74F-5C9B-449B-B11D-6DBC85B7DCC5">Parameter</p>
                  <p>None.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8036CFB0-5F82-437E-8D0E-D9304E538CB9__GUID-E491CB2E-7EFD-4955-9224-2C8437AC5F62">Returns</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>Returns file profile of the last <code class="codeph">PARSE()</code> invocation in JSON format.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8036CFB0-5F82-437E-8D0E-D9304E538CB9__GUID-51C0EC26-463F-4244-AF94-03333D4E41CC">Example</p><pre class="pre codeblock"><code>select line_number, col001,col002,col003,col004,col005,col006,col007,col008 
   from table( 
              apex_data_parser.parse(
                  p_content         =&gt; {BLOB containing XLSX file},
                  p_file_name       =&gt; 'test.xlsx',
                  p_xlsx_sheet_name =&gt; 'sheet1.xml') ) ;

LINE_NUMBER COL001   COL002       COL003       COL004   COL005          COL006   COL007       COL008 
----------- -------- ------------ ------------ -------- --------------- -------- ------------ ------------- 
          1 0        First Name   Last Name    Gender   Country         Age      Date         Id       
          2 1        Dulce        Abril        Female   United States   32       15/10/2017   1562     
          3 2        Mara         Hashimoto    Female   Great Britain   25       16/08/2016   1582     
          4 3        Philip       Gent         Male     France          36       21/05/2015   2587     
          5 4        Kathleen     Hanner       Female   United States   25       15/10/2017   3549     
          6 5        Nereida      Magwood      Female   United States   58       16/08/2016   2468     
          7 6        Gaston       Brumm        Male     United States   24       21/05/2015   2554     
          8 7        Etta         Hurn         Female   Great Britain   56       15/10/2017   3598     
          9 8        Earlean      Melgar       Female   United States   27       16/08/2016   2456     
         10 9        Vincenza     Weiland      Female   United States   40       21/05/2015   6548     
          : :        :            :            :        :               :        :            :

select apex_data_parser.get_file_profile from dual;

{
    "file-type" : 1,
    "csv-delimiter" : "",
    "xslx-worksheet" : "sheet1.xml",
    "headings-in-first-row" : true,
    "file-encoding" : "AL32UTF8",
    "single-row" : false,
    "parsed-rows" : 2378,
    "columns" : [
       {
          "format-mask" : "",
          "name" : "C0",
          "data-type" : 2,
          "selector" : ""
       },
       {
          "name" : "FIRST_NAME",
          "data-type" : 1,
          "selector" : "",
          "format-mask" : ""
       },
       {
          "selector" : "",
          "data-type" : 1,
          "name" : "LAST_NAME",
          "format-mask" : ""
       },
       {
          "format-mask" : "",
          "data-type" : 1,
          "name" : "GENDER",
          "selector" : ""
       },
       {
          "name" : "COUNTRY",
          "data-type" : 1,
          "selector" : "",
          "format-mask" : ""
       },
       {
          "data-type" : 2,
          "name" : "AGE",
          "selector" : "",
          "format-mask" : ""
       },
       {
          "format-mask" : "DD\"/\"MM\"/\"YYYY",
          "selector" : "",
          "data-type" : 3,
          "name" : "DATE_"
       },
       {
          "name" : "ID",
          "data-type" : 2,
          "selector" : "",
          "format-mask" : ""
       }
    ],
    "row-selector" : ""
}
</code></pre></div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="APEX_DATA_PARSER.html#GUID-07E9397C-DF26-40F7-AC73-F46961E1088A">APEX_DATA_PARSER</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>