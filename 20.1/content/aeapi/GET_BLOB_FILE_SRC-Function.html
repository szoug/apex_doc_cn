<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="DC.Type" content="reference">
      <meta name="DC.Title" content="GET_BLOB_FILE_SRC Function">
      <meta name="DC.subject" content="APEX_UTIL, GET_BLOB_FILE_SRC function">
      <meta name="keywords" content="APEX_UTIL, GET_BLOB_FILE_SRC function">
      <meta name="DC.Relation" scheme="URI" content="APEX_UTIL.html#GUID-5ECE5C10-1A88-4D37-8A7D-C51925ADB2B9">
      <meta name="DC.Creator" content="Harish Konakondla">
      <meta name="DC.Creator" content="Christina Cho">
      <meta name="DC.Creator" content="Hilary Farrell">
      <meta name="DC.Creator" content="Joel Kallman">
      <meta name="DC.Creator" content="Sharon Kennedy">
      <meta name="DC.Creator" content="Christian Neumueller">
      <meta name="DC.Creator" content="Anthony Raynor">
      <meta name="DC.Creator" content="Marc Sewtz">
      <meta name="DC.Creator" content="John Snyders">
      <meta name="DC.Creator" content="Jason Straub">
      <meta name="DC.Creator" content="Vladislav Unarov">
      <meta name="DC.Creator" content="Patrick Wolf">
      <meta name="DC.Creator" content="Terri Jennings">
      <meta name="DC.Publisher" content="May2020">
      <meta name="DC.Format" content="XHTML">
      <meta name="DC.Identifier" content="GUID-21F2D33A-A616-48B5-BAF5-A85C0EDC998F">
      <meta name="DC.Language" content="en-US">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>GET_BLOB_FILE_SRC Function</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-application-express-api-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2020-05-22T13:42:07-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2020">
      <meta name="dcterms.category" content="database">
      
      
      <meta name="dcterms.product" content="en/database/oracle/application-express/20.1">
      
      <link rel="prev" href="GET_AUTHENTICATION_RESULT-Function.html" title="Previous" type="text/html">
      <link rel="next" href="GET_BUILD_OPTION_STATUS-Function-Signature-1.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"application-express","element_name":"Application Express","display_in_url":true},"release":{"short_name":"20.1","element_name":"Release 20.1","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Application Express API Reference">
    <meta name="dcterms.isVersionOf" content="AEAPI">
    <meta name="dcterms.identifier" content="F24719-02">
    <meta name="dcterms.release" content="Release 20.1">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="GET_AUTHENTICATION_RESULT-Function.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="GET_BUILD_OPTION_STATUS-Function-Signature-1.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="APEX_UTIL.html" property="item" typeof="WebPage"><span property="name"> APEX_UTIL</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">GET_BLOB_FILE_SRC Function</li>
            </ol>
            <a id="GUID-21F2D33A-A616-48B5-BAF5-A85C0EDC998F" name="GUID-21F2D33A-A616-48B5-BAF5-A85C0EDC998F"></a><a id="AEAPI1611"></a><a id="AEAPI1612"></a><a id="AEAPI1613"></a><a id="AEAPI1614"></a><a id="AEAPI129"></a>
            
            <h2 id="AEAPI-GUID-21F2D33A-A616-48B5-BAF5-A85C0EDC998F" class="sect2"><span class="enumeration_section">39.38 </span>GET_BLOB_FILE_SRC Function
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>As an alternative to using the built-in methods of providing a download link, you can use the <code class="codeph">APEX_UTIL.GET_BLOB_FILE_SRC</code> function. One advantage of this approach, is the ability to more specifically format the display of the image (with height and width tags). Please note that this approach is only valid if called from a valid Oracle Application Express session. Also, this method requires that the parameters that describe the BLOB to be listed as the format of a valid item within the application. That item is then referenced by the function.
                  </p>
                  <p>If the URL returned by this function is passed to <code class="codeph">APEX_UTIL.PREPARE_URL</code>, ensure to set the <code class="codeph">P_PLAIN_URL</code> argument to <code class="codeph">TRUE</code> to ensure that no modal dialog code is being added, when the referenced page item is on a modal page.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-21F2D33A-A616-48B5-BAF5-A85C0EDC998F__GUID-0AE7A0CB-1FB9-4ED7-A5F6-0BC8026E8674">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section"><pre class="pre codeblock"><code>APEX_UTIL.GET_BLOB_FILE_SRC (
    p_item_name           IN VARCHAR2 DEFAULT NULL,
    p_v1                  IN VARCHAR2 DEFAULT NULL,
    p_v2                  IN VARCHAR2 DEFAULT NULL,
    p_content_disposition IN VARCHAR2 DEFAULT NULL)
RETURN VARCHAR2;
</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-21F2D33A-A616-48B5-BAF5-A85C0EDC998F__GUID-91640D30-7EED-4E49-9D1E-5CB479E9B089">Parameters</p>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-21F2D33A-A616-48B5-BAF5-A85C0EDC998F__GUID-4657B720-9B56-4020-8F95-9D5C1CEA15A9">
                  <p class="titleintable">Table 39-35 GET_BLOB_FILE_SRC Parameters</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="GET_BLOB_FILE_SRC Parameters" summary="Parameter descriptions for the GET_BLOB_FILE_SRC function." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="33%" id="d186527e87">Parameter</th>
                           <th align="left" valign="bottom" width="67%" id="d186527e90">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="33%" id="d186527e95" headers="d186527e87 ">
                              <p><code class="codeph">p_item_name</code></p>
                           </td>
                           <td align="left" valign="top" width="67%" headers="d186527e95 d186527e90 ">
                              <p>Name of valid application page ITEM that with type FILE that contains the source type of DB column.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="33%" id="d186527e103" headers="d186527e87 ">
                              <p><code class="codeph">p_v1</code></p>
                           </td>
                           <td align="left" valign="top" width="67%" headers="d186527e103 d186527e90 ">
                              <p>Value of primary key column 1.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="33%" id="d186527e111" headers="d186527e87 ">
                              <p><code class="codeph">p_v2</code></p>
                           </td>
                           <td align="left" valign="top" width="67%" headers="d186527e111 d186527e90 ">
                              <p>Value of primary key column 2.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="33%" id="d186527e119" headers="d186527e87 ">
                              <p><code class="codeph">p_content_disposition</code></p>
                           </td>
                           <td align="left" valign="top" width="67%" headers="d186527e119 d186527e90 ">
                              <p>Specify <code class="codeph">inline</code> or <code class="codeph">attachment</code>, all other values ignored.
                              </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <p class="subhead1" id="GUID-21F2D33A-A616-48B5-BAF5-A85C0EDC998F__GUID-315E1410-A5CB-4624-BCD6-2B6A3FCB658C">Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>As a PLSQL Function Body:</p><pre class="pre codeblock"><code>RETURN '&lt;img src="'||APEX_UTIL.GET_BLOB_FILE_SRC('P2_ATTACHMENT',:P2_EMPNO)||'" /&gt;';</code></pre><p>As a Region Source of type SQL:</p><pre class="pre codeblock"><code>SELECT ID, NAME,CASE WHEN NVL(dbms_lob.getlength(document),0) = 0
    THEN NULL 
    ELSE CASE WHEN attach_mimetype like 'image%'
    THEN '&lt;img src="'||apex_util.get_blob_file_src('P4_DOCUMENT',id)||'" /&gt;' 
    ELSE 
    '&lt;a href="'||apex_util.get_blob_file_src('P4_DOCUMENT',id)||'"&gt;Download&lt;/a&gt;'
    end 
    END new_img
    FROM TEST_WITH_BLOB
</code></pre><p>The previous example illustrates how to display the <code class="codeph">BLOB</code> within the report, if it can be displayed, and provide a download link, if it cannot be displayed.
                  </p>
                  <div class="infoboxnotealso" id="GUID-21F2D33A-A616-48B5-BAF5-A85C0EDC998F__GUID-2F64AF32-264C-4701-9B7C-A7D4A81610C1">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="../htmdb/understanding-blob-support-in-forms-and-reports.html#HTMDB-GUID-C428EEED-3FF9-4A20-9731-1C17C10991DB" target="_blank">Understanding BLOB Support in Forms and
                        Reports</a>"</span> in <span><cite>Oracle Application Express App Builder User’s Guide</cite></span></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="APEX_UTIL.html#GUID-5ECE5C10-1A88-4D37-8A7D-C51925ADB2B9">APEX_UTIL</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>