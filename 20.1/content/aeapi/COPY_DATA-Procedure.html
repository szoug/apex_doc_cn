<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="DC.Type" content="reference">
      <meta name="DC.Title" content="COPY_DATA Procedure">
      <meta name="DC.subject" content="APEX_EXEC, COPY_DATA Procedure">
      <meta name="keywords" content="APEX_EXEC, COPY_DATA Procedure">
      <meta name="DC.Relation" scheme="URI" content="APEX_EXEC.html#GUID-3CF1D2DD-AEA4-4982-9857-548567AB7169">
      <meta name="DC.Creator" content="Harish Konakondla">
      <meta name="DC.Creator" content="Christina Cho">
      <meta name="DC.Creator" content="Hilary Farrell">
      <meta name="DC.Creator" content="Joel Kallman">
      <meta name="DC.Creator" content="Sharon Kennedy">
      <meta name="DC.Creator" content="Christian Neumueller">
      <meta name="DC.Creator" content="Anthony Raynor">
      <meta name="DC.Creator" content="Marc Sewtz">
      <meta name="DC.Creator" content="John Snyders">
      <meta name="DC.Creator" content="Jason Straub">
      <meta name="DC.Creator" content="Vladislav Unarov">
      <meta name="DC.Creator" content="Patrick Wolf">
      <meta name="DC.Creator" content="Terri Jennings">
      <meta name="DC.Publisher" content="May2020">
      <meta name="DC.Format" content="XHTML">
      <meta name="DC.Identifier" content="GUID-BEEFB3C1-00CD-4C0F-84FC-E4F7F62F3462">
      <meta name="DC.Language" content="en-US">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>COPY_DATA Procedure</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-application-express-api-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2020-05-22T13:42:07-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2020">
      <meta name="dcterms.category" content="database">
      
      
      <meta name="dcterms.product" content="en/database/oracle/application-express/20.1">
      
      <link rel="prev" href="CLOSE-Procedure.html" title="Previous" type="text/html">
      <link rel="next" href="EXECUTE_DML-Procedure.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"application-express","element_name":"Application Express","display_in_url":true},"release":{"short_name":"20.1","element_name":"Release 20.1","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Application Express API Reference">
    <meta name="dcterms.isVersionOf" content="AEAPI">
    <meta name="dcterms.identifier" content="F24719-02">
    <meta name="dcterms.release" content="Release 20.1">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CLOSE-Procedure.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="EXECUTE_DML-Procedure.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="APEX_EXEC.html" property="item" typeof="WebPage"><span property="name"> APEX_EXEC</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">COPY_DATA Procedure </li>
            </ol>
            <a id="GUID-BEEFB3C1-00CD-4C0F-84FC-E4F7F62F3462" name="GUID-BEEFB3C1-00CD-4C0F-84FC-E4F7F62F3462"></a>
            
            <h2 id="AEAPI-GUID-BEEFB3C1-00CD-4C0F-84FC-E4F7F62F3462" class="sect2"><span class="enumeration_section">16.10 </span>COPY_DATA Procedure 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>This procedure fetches all rows from the source context and writes to the target context. Useful to copy data between different data sources (for example, local to remote, remote to web source etc).</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BEEFB3C1-00CD-4C0F-84FC-E4F7F62F3462__TITLE-1321-F94BDADF">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section"><pre class="pre codeblock"><code>PROCEDURE COPY_DATA(
    p_from_context          IN OUT NOCOPY t_context,
    p_to_context            IN OUT NOCOPY t_context,
    p_operation_column_name IN            VARCHAR2 DEFAULT NULL);</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BEEFB3C1-00CD-4C0F-84FC-E4F7F62F3462__TITLE-1341-F94C107A">Parameters</p>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-BEEFB3C1-00CD-4C0F-84FC-E4F7F62F3462__WRITEPROCEDUREPARAMETERS-F94C1E2F">
                  <p class="titleintable">Table 16-8 COPY_DATA Procedure Parameters</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="COPY_DATA Procedure Parameters" summary="Parameter descriptions for the COPY_DATA Procedure procedure." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="34%" id="d62465e68">Parameter</th>
                           <th align="left" valign="bottom" width="66%" id="d62465e71">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="34%" id="d62465e76" headers="d62465e68 ">
                              <p><code class="codeph">p_from_context</code></p>
                           </td>
                           <td align="left" valign="top" width="66%" headers="d62465e76 d62465e71 ">
                              <p>Query context to fetch rows from.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="34%" id="d62465e84" headers="d62465e68 ">
                              <p><code class="codeph"> p_to_context</code></p>
                           </td>
                           <td align="left" valign="top" width="66%" headers="d62465e84 d62465e71 ">
                              <p>DML context to write rows to.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="34%" id="d62465e92" headers="d62465e68 ">
                              <p><code class="codeph">p_operation_column_name</code></p>
                           </td>
                           <td align="left" valign="top" width="66%" headers="d62465e92 d62465e71 ">
                              <div class="p">Column in the query context to indicate the DML operation to execute on the target context. Possible values are:
                                 <ul style="list-style-type: disc;" id="GUID-BEEFB3C1-00CD-4C0F-84FC-E4F7F62F3462__UL_UWZ_RFT_NGB">
                                    <li><code class="codeph">"I"</code>: insert the row on the target (DML) context
                                    </li>
                                    <li><code class="codeph">"U"</code>: update the row on the target (DML) context
                                    </li>
                                    <li><code class="codeph">"D"</code>: delete the row on the target (DML) context
                                    </li>
                                 </ul>
                              </div>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BEEFB3C1-00CD-4C0F-84FC-E4F7F62F3462__TITLE-1361-F94C98D8">Example</p><pre class="pre codeblock"><code>declare
    l_columns        apex_exec.t_columns;
    l_dml_context    apex_exec.t_context;
    l_query_context  apex_exec.t_context;
begin
    -- I. Define DML columns
    apex_exec.add_column(
        p_columns        =&gt; l_columns,
        p_column_name    =&gt; 'EMPNO',
        p_data_type      =&gt; apex_exec.c_data_type_number,
        p_is_primary_key =&gt; true );
    apex_exec.add_column(
        p_columns        =&gt; l_columns,
        p_column_name    =&gt; 'ENAME',
        p_data_type      =&gt; apex_exec.c_data_type_varchar2 );
    apex_exec.add_column(
        p_columns        =&gt; l_columns,
        p_column_name    =&gt; 'JOB',
        p_data_type      =&gt; apex_exec.c_data_type_varchar2 );
    apex_exec.add_column(
        p_columns        =&gt; l_columns,
        p_column_name    =&gt; 'HIREDATE',
        p_data_type      =&gt; apex_exec.c_data_type_date );
    apex_exec.add_column(
        p_columns        =&gt; l_columns,
        p_column_name    =&gt; 'MGR',
        p_data_type      =&gt; apex_exec.c_data_type_number );
    apex_exec.add_column(
        p_columns        =&gt; l_columns,
        p_column_name    =&gt; 'SAL',
        p_data_type      =&gt; apex_exec.c_data_type_number );
    apex_exec.add_column(
        p_columns        =&gt; l_columns,
        p_column_name    =&gt; 'COMM',
        p_data_type      =&gt; apex_exec.c_data_type_number );
    apex_exec.add_column(
        p_columns        =&gt; l_columns,
        p_column_name    =&gt; 'DEPTNO',
        p_data_type      =&gt; apex_exec.c_data_type_number );

    -- II. Open the Query Context object
    l_query_context := apex_exec.open_remote_sql_query(
        p_server_static_id  =&gt; 'DevOps_Remote_SQL',
        p_sql_query         =&gt; 'select * from emp',
        p_columns           =&gt; l_columns );
    
    -- III. Open the DML context object
    l_dml_context := apex_exec.open_remote_dml_context(
        p_server_static_id      =&gt; '{remote server static id}',
        p_columns               =&gt; l_columns,
        p_query_type            =&gt; apex_exec.c_query_type_sql_query,
        p_sql_query             =&gt; 'select * from emp' );
    
    -- IV. Copy rows
    apex_exec.copy_data(
        p_from_context =&gt; l_query_context,
        p_to_context   =&gt; l_dml_context );
    
    -- V. Close contexts and free resources
    apex_exec.close( l_dml_context );
    apex_exec.close( l_query_context );
exception 
    when others the
         apex_exec.close( l_dml_context );
         apex_exec.close( l_query_context );
         raise;
            
end;

</code></pre></div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="APEX_EXEC.html#GUID-3CF1D2DD-AEA4-4982-9857-548567AB7169">APEX_EXEC</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>