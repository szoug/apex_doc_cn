<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Interface: model</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2020-03-24T20:11:56+00:00">
    <meta name="dcterms.title" content="Oracle Application Express JavaScript API Reference">
    <meta name="dcterms.category" content="database">
    <meta name="dcterms.isVersionOf" content="AEXJS">
    <meta name="dcterms.product" content="en/database/oracle/application-express/20.1">
    <meta name="dcterms.identifier" content="F24723-01">
    <meta name="dcterms.release" content="Release 20.1">
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"application-express","element_name":"Application Express","display_in_url":true},"release":{"short_name":"20.1","element_name":"Release 20.1","display_in_url":true}}} </script>
    </head>

<body>
<a href="#main-content" id="skipToContent">Skip to Main Content</a>

<nav id="nav" data-current-item="nav_34">
    <h2 id="navIndex"><a href="index.html">Index</a></h2><h3>Widgets</h3><ul><li id="nav_0"><a href="grid.html">grid</a></li><li id="nav_1"><a href="iconList.html">iconList</a></li><li id="nav_2"><a href="interactiveGrid.html">interactiveGrid</a></li><li id="nav_3"><a href="menu.html">menu</a></li><li id="nav_4"><a href="menuButton.html">menuButton</a></li><li id="nav_5"><a href="recordView.html">recordView</a></li><li id="nav_6"><a href="tableModelView.html">tableModelView</a></li><li id="nav_7"><a href="tableModelViewBase.html">tableModelViewBase</a></li><li id="nav_8"><a href="treeView.html">treeView</a></li></ul><h3>Namespaces</h3><ul><li id="nav_9"><a href="apex.html">apex</a></li><li id="nav_10"><a href="apex.actions.html">apex.actions</a></li><li id="nav_11"><a href="apex.da.html">apex.da</a></li><li id="nav_12"><a href="apex.debug.html">apex.debug</a></li><li id="nav_13"><a href="apex.event.html">apex.event</a></li><li id="nav_14"><a href="apex.item.html">apex.item</a></li><li id="nav_15"><a href="apex.lang.html">apex.lang</a></li><li id="nav_16"><a href="apex.locale.html">apex.locale</a></li><li id="nav_17"><a href="apex.message.html">apex.message</a></li><li id="nav_18"><a href="apex.model.html">apex.model</a></li><li id="nav_19"><a href="apex.navigation.html">apex.navigation</a></li><li id="nav_20"><a href="apex.navigation.dialog.html">apex.navigation.dialog</a></li><li id="nav_21"><a href="apex.navigation.popup.html">apex.navigation.popup</a></li><li id="nav_22"><a href="apex.page.html">apex.page</a></li><li id="nav_23"><a href="apex.region.html">apex.region</a></li><li id="nav_24"><a href="apex.server.html">apex.server</a></li><li id="nav_25"><a href="apex.storage.html">apex.storage</a></li><li id="nav_26"><a href="apex.theme.html">apex.theme</a></li><li id="nav_27"><a href="apex.util.html">apex.util</a></li><li id="nav_28"><a href="apex.util.delayLinger.html">apex.util.delayLinger</a></li><li id="nav_29"><a href="apex.widget.html">apex.widget</a></li></ul><h3>Interfaces</h3><ul><li id="nav_30"><a href="actions.html">actions</a></li><li id="nav_31"><a href="htmlBuilder.html">htmlBuilder</a></li><li id="nav_32"><a href="interactiveGridView.html">interactiveGridView</a></li><li id="nav_33"><a href="item.html">item</a></li><li id="nav_34"><a href="model.html">model</a></li><li id="nav_35"><a href="region.html">region</a></li><li id="nav_36"><a href="treeNodeAdapter.html">treeNodeAdapter</a></li></ul><h3><a href="global.html">Non-namespace APIs</a></h3>
</nav>

<div id="main">



    <h1 class="page-title">Interface: model</h1>

    




<section id="quick-nav">
    <header><h2>QuickNav</h2></header>
    
    
    <div class="quick-nav-section">
        <h3><a href="#events-section">Notifications</a></h3>
        <ul class="subList">
            
            <li><a href="#event:addData">addData</a></li>
            
            <li><a href="#event:clearChanges">clearChanges</a></li>
            
            <li><a href="#event:copy">copy</a></li>
            
            <li><a href="#event:delete">delete</a></li>
            
            <li><a href="#event:insert">insert</a></li>
            
            <li><a href="#event:metaChange">metaChange</a></li>
            
            <li><a href="#event:move">move</a></li>
            
            <li><a href="#event:refresh">refresh</a></li>
            
            <li><a href="#event:refreshRecords">refreshRecords</a></li>
            
            <li><a href="#event:revert">revert</a></li>
            
            <li><a href="#event:set">set</a></li>
            
        </ul>
    </div>
    

    
    <div class="quick-nav-section">
        <h3><a href="#methods-section">Methods</a></h3>
        <ul class="subList">
            
                <li><a href="#addChangesToSaveRequest">addChangesToSaveRequest</a></li>
            
                <li><a href="#allowAdd">allowAdd</a></li>
            
                <li><a href="#allowDelete">allowDelete</a></li>
            
                <li><a href="#allowDrag">allowDrag</a></li>
            
                <li><a href="#allowEdit">allowEdit</a></li>
            
                <li><a href="#canRevertRecord">canRevertRecord</a></li>
            
                <li><a href="#check">check</a></li>
            
                <li><a href="#child">child</a></li>
            
                <li><a href="#childCount">childCount</a></li>
            
                <li><a href="#clearChanges">clearChanges</a></li>
            
                <li><a href="#clearData">clearData</a></li>
            
                <li><a href="#clearSelection">clearSelection</a></li>
            
                <li><a href="#copyRecords">copyRecords</a></li>
            
                <li><a href="#deleteRecords">deleteRecords</a></li>
            
                <li><a href="#dragOperations">dragOperations</a></li>
            
                <li><a href="#fetch">fetch</a></li>
            
                <li><a href="#fetchAll">fetchAll</a></li>
            
                <li><a href="#fetchChildNodes">fetchChildNodes</a></li>
            
                <li><a href="#fetchRecords">fetchRecords</a></li>
            
                <li><a href="#forEach">forEach</a></li>
            
                <li><a href="#forEachInPage">forEachInPage</a></li>
            
                <li><a href="#getChanges">getChanges</a></li>
            
                <li><a href="#getErrors">getErrors</a></li>
            
                <li><a href="#getFieldKey">getFieldKey</a></li>
            
                <li><a href="#getFieldMetadata">getFieldMetadata</a></li>
            
                <li><a href="#getOption">getOption</a></li>
            
                <li><a href="#getRecord">getRecord</a></li>
            
                <li><a href="#getRecordId">getRecordId</a></li>
            
                <li><a href="#getRecordMetadata">getRecordMetadata</a></li>
            
                <li><a href="#getRecordValue">getRecordValue</a></li>
            
                <li><a href="#getSelectedCount">getSelectedCount</a></li>
            
                <li><a href="#getSelectedRecords">getSelectedRecords</a></li>
            
                <li><a href="#getServerTotalRecords">getServerTotalRecords</a></li>
            
                <li><a href="#getTotalRecords">getTotalRecords</a></li>
            
                <li><a href="#getValue">getValue</a></li>
            
                <li><a href="#hasChildren">hasChildren</a></li>
            
                <li><a href="#hasErrors">hasErrors</a></li>
            
                <li><a href="#indexOf">indexOf</a></li>
            
                <li><a href="#insertNewRecord">insertNewRecord</a></li>
            
                <li><a href="#isChanged">isChanged</a></li>
            
                <li><a href="#isIdentityField">isIdentityField</a></li>
            
                <li><a href="#metadataChanged">metadataChanged</a></li>
            
                <li><a href="#modelId">modelId</a></li>
            
                <li><a href="#moveRecords">moveRecords</a></li>
            
                <li><a href="#parent">parent</a></li>
            
                <li><a href="#recordAt">recordAt</a></li>
            
                <li><a href="#revertRecords">revertRecords</a></li>
            
                <li><a href="#root">root</a></li>
            
                <li><a href="#save">save</a></li>
            
                <li><a href="#setData">setData</a></li>
            
                <li><a href="#setOption">setOption</a></li>
            
                <li><a href="#setRecordValue">setRecordValue</a></li>
            
                <li><a href="#setSelectionState">setSelectionState</a></li>
            
                <li><a href="#setValidity">setValidity</a></li>
            
                <li><a href="#setValue">setValue</a></li>
            
                <li><a href="#subscribe">subscribe</a></li>
            
                <li><a href="#transform">transform</a></li>
            
                <li><a href="#unSubscribe">unSubscribe</a></li>
            
                <li><a href="#walkTree">walkTree</a></li>
            
        </ul>
    </div>
    

    
    <div class="quick-nav-section">
        <h3><a href="#typedefs-section">Type Definitions</a></h3>
        <ul class="subList">
            
                <li><a href="#.CheckCallback">CheckCallback</a></li>
            
                <li><a href="#.FieldMeta">FieldMeta</a></li>
            
                <li><a href="#.IteratorCallback">IteratorCallback</a></li>
            
                <li><a href="#.ModelId">ModelId</a></li>
            
                <li><a href="#.Node">Node</a></li>
            
                <li><a href="#.Observer">Observer</a></li>
            
                <li><a href="#.Record">Record</a></li>
            
                <li><a href="#.RecordFieldMetadata">RecordFieldMetadata</a></li>
            
                <li><a href="#.RecordMetadata">RecordMetadata</a></li>
            
        </ul>
    </div>
    
</section>


<section id="main-content">

<header>
    
    
        <h2>model</h2>
        
            <div class="class-description"><p>A model holds data in memory for use by the UI layer. It corresponds to the view-model in the Model-View-ViewModel
(MVVM) pattern. The UI can both read and write the data.
A model can notify interested parties (subscribers) when the data changes. The data comes (is fetched) from
the server and updates can be written back (saved) to the server.</p>

<p>Models are created and managed with functions of the <a href="apex.model.html">apex.model</a> namespace.
A model is uniquely identified by a <a href="model.html#.ModelId">model.ModelId</a>, which is a string name and optional string instance id.</p>

<p>A model can hold data of different shapes. They are:</p>
<ul>
<li>table: The data is an ordered collection of records. In database or UI terms the record might be called a row.
   参见 <a href="model.html#.Record">model.Record</a>.</li>
<li>tree: The data is a single root record and each record including the root can have an ordered collection of
   any number of child records. When dealing with trees it is common to call the records nodes. 参见 <a href="model.html#.Node">model.Node</a>.</li>
<li>record: The data is a single record. In some cases this is treated as a collection of one.</li>
</ul>

<p>Each record can have any number of named fields. 参见 <a href="model.html#.Record">model.Record</a>. All records in the collection must have
the same set of fields although the value of some fields may be null. In database or UI terms the fields
might be called columns. The actual storage of a record could be an object or an array. If records are objects then the
fields of the record are the properties of the object. If the records are arrays the fields of the record are
elements of the array and the <a href="model.html#.FieldMeta">model.FieldMeta</a> <code class="prettyprint">index</code> property is used to
map from the field name to the record array index.</p>

<p>The model has very few restrictions on the values of fields and doesn't know the data type of the field.
However typically when the model data is backing APEX items or HTML form controls the values will all be strings.
The model optionally uses the following fields for specific purposes:</p>
<ul>
<li>identity: A string value that uniquely identifies the record. There can be multiple identity fields.
     Required for editable models. 参见 <a href="apex.model.html#.create">apex.model.create</a> option <code class="prettyprint">identityField</code>.</li>
<li>meta: An object with additional metadata about the record. 参见 <a href="apex.model.html#.create">apex.model.create</a> option <code class="prettyprint">metaField</code>.</li>
<li>children: (tree shape only) An array of the child records (nodes). 参见 <a href="apex.model.html#.create">apex.model.create</a> option <code class="prettyprint">childrenField</code>.</li>
<li>parent identity: (tree shape only) A string value that identifies the parent record (node) of this record (node).
     Required for editable tree shaped models. 参见 <a href="apex.model.html#.create">apex.model.create</a> option <code class="prettyprint">parentIdentityField</code>.</li>
</ul>

<p>Another special case is for field values that have a display value in addition to their intrinsic value. These
composite values have the form: <code class="prettyprint">{ d: "<i>display value</i>", v: <i>value</i> }</code>
When comparing values during <a href="model.html#setValue">model#setValue</a> only the value is considered not the display value.
Also when the changes are saved to the server just the value is included without being wrapped
in an object. Other special fields such as identity or parent etc. cannot have this structure.</p>

<h3>Aggregations:</h3>
<p>Aggregations are just rows that the server includes in order among all the other rows marked with meta data
property <code class="prettyprint">agg: true</code>. The aggregate record has most fields empty except for the
aggregate fields that contain the aggregate value.</p></div>
        
    
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>5.1</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
            <h3>Example</h3>
            
        <p class="code-caption">Models are typically used by advanced widgets to display, interact with, and edit data.
The following is a high level sketch of how a widget might use a table shape model. Much of the work in
interfacing with a model is handled by <a href="tableModelViewBase.html">tableModelViewBase</a> so deriving a widget from that
base widget can save time and effort.</p>
    
        <pre class="prettyprint"><code>// The widget can create the model during widget initialization
this.model = apex.model.create( modelName, options, initialData, ... );

// Or it can be configured with the name of a model that already exists and get a reference to it
this.model = apex.model.get( modelName );

// In either case subscribe to model notifications
this.modelViewId = this.model.subscribe( {
    onChange: modelNotificationFunction,
} );

// During create or when the widget is refreshed it should render data from the model
// this.pageOffset starts a 0. When the user changes pages or additional page data is needed run this code again
// the model fetches more data from the server as needed.
var count = 0;
this.model.forEachInPage( this.pageOffset, pageSize, function( record, index, id ) {
    if ( record ) {
        // render the row record
        count += 1;
    }
    if ( count === pageSize || !record ) {
        // done rendering this page of records
    }
} );

// When settings change that affect the data such as changing the sort order or applying a filter
// the new sort order or filter information can be communicated to the server in the model fetchData or
// regionData option or it can be sent in a separate Ajax request.
this.model.clearData();

// Clearing the data will result in a refresh notification. The modelNotificationFunction should
this.pageOffset = 0;
// call the above forEachInPage code to fetch and render the new data.

// When the widget is destroyed it needs to release the model
this.model.unSubscribe( this.modelViewId );
this.model.release( modelName );</code></pre>
    
        
    
    </div>

    

    

    

     

    

    

    
        <div class="hw">
        <h3 id="events-section" class="subsection-title">
            Notifications
        </h3>
        <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark Notifications" href="#events-section"></a>
        </div>

        
            

    

    <div class="hw">
    <h4 class="name" id="event:addData">addData</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark addData" href="#event:addData"></a>
    </div>


    



<div class="description">
    Sent when data has been added to the model from the server.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"addData"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>parentNode</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


            
            </td>

            

            

            <td class="description last">Only for tree shape models. This is the parent node the data was added to or null if root.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>offset</code></th>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">Index into the client model data. 0 for tree or record shape models</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>count</code></th>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">Number of records added to the model. For a tree shape model this is the number of nodes added
  to the parent or 1 if root. For table shape models the count could be less than the number
  of records returned by the server if some records were merged (replaced) existing record with same identity.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>replacedIds</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">Only for table shape models. Array of record ids that were replaced.
  This happens when a record returned by the server is already in the model. In this case the existing
  record is replaced and the record id is added to this list.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="event:clearChanges">clearChanges</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark clearChanges" href="#event:clearChanges"></a>
    </div>


    



<div class="description">
    Sent when the model has been saved (or <a href="model.html#clearChanges">model#clearChanges</a> called) after all metadata related to changes
has been cleared.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"clearChanges"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>deletedIds</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">Record ids for deleted records.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>changedIds</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">Record ids for records that had been updated or inserted.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="event:copy">copy</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark copy" href="#event:copy"></a>
    </div>


    



<div class="description">
    Sent when one or more records are copied.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"copy"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>records</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">The records that were copied.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>recordIds</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">The ids of the records that were copied.
  The ith item in this array corresponds to the ith item in the records array.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>insertAfterId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The id of the record that these new records were inserted after
  or null if inserted at the beginning.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="event:delete">delete</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark delete" href="#event:delete"></a>
    </div>


    



<div class="description">
    Sent when one or more records are deleted.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"delete"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>records</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">The records that were deleted.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>recordIds</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">The ids of the records that were deleted.
  The ith item in this array corresponds to the ith item in the records array.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="event:insert">insert</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark insert" href="#event:insert"></a>
    </div>


    



<div class="description">
    Sent when a record is inserted into the model.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"insert"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>record</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">The inserted record.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>recordId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The id of the inserted record.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>insertAfterId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The id of the record that this new record was inserted
  after or null if inserted at the beginning.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="event:metaChange">metaChange</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark metaChange" href="#event:metaChange"></a>
    </div>


    



<div class="description">
    Sent when metadata has changed. The record field values have not changed but the record or field
metadata has changed. Typically this is the result of validation errors. If external code changes
the metadata it must call <a href="model.html#metadataChanged">model#metadataChanged</a> (which sends this notification) to let other views
know about the change.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"metaChange"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>record</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The record that changed.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>field</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The name of the field that changed or null if field metadata didn't change.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="event:move">move</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark move" href="#event:move"></a>
    </div>


    



<div class="description">
    Sent when one or more records are moved.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"move"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>records</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">The records that were moved.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>recordIds</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">The ids of the records that were moved.
  The ith item in this array corresponds to the ith item in the records array.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>insertAfterId:</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The id of the record that these new records were inserted after
  or null if inserted at the beginning.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="event:refresh">refresh</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark refresh" href="#event:refresh"></a>
    </div>


    



<div class="description">
    Sent when the model has been given new data or there is a change in data
on the server that the model should now go get. In either case the previous data in the
model is gone/changed so any views showing the model data should re-render their views.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"refresh"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">Empty object</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="event:refreshRecords">refreshRecords</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark refreshRecords" href="#event:refreshRecords"></a>
    </div>


    



<div class="description">
    Sent when specific records in the model have changed. This happens when the model is saved if
the server returns updated records or when <a href="model.html#fetchRecords">model#fetchRecords</a> is called. Both the record field values
and metadata may have changed. The view layer should render the new record including taking into
consideration any metadata and replace the existing view of the record.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"refreshRecords"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>records</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">Records that have been updated. Note for inserted items this includes the new id</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>recordIds</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">Record ids that have been changed. Note for inserted items the previous (old) id
   is given. The ith item in this array corresponds to the ith item in the records array.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>newIds</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">For inserted records this is a map from the previous (old) id to the new id.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="event:revert">revert</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark revert" href="#event:revert"></a>
    </div>


    



<div class="description">
    Sent when record changes are reverted.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"revert"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>records</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">The records that were reverted.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>recordIds</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">The ids of the records that were reverted.
  The ith item in this array corresponds to the ith item in the records array.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>newIds</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">For records where the identity was changed and is now reverted this is a
  map from the previous (old) id to the new (reverted) id.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="event:set">set</h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark set" href="#event:set"></a>
    </div>


    



<div class="description">
    Sent when a field value of a record is changed.
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>changeType</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">"set"</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>change</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>oldValue</code></th>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">The previous value of the field.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>oldIdentity</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">If the identity changed this is the previous identity value.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>recordId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The id of the record that changed.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>record</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">The record that changed.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>field</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The name of the field that changed.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
    

    
        <div class="hw">
        <h3 id="methods-section" class="subsection-title">
            Methods
        </h3>
        <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark Methods" href="#methods-section"></a>
        </div>

        
            

    

    <div class="hw">
    <h4 class="name" id="addChangesToSaveRequest"><span class="type-signature"></span>addChangesToSaveRequest<span class="signature">(pRequestData)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark addChangesToSaveRequest(pRequestData)" href="#addChangesToSaveRequest"></a>
    </div>


    



<div class="description">
    Rarely needed. Only useful if making your own call to the server.
参见 <a href="model.html#save">model#save</a>, <a href="apex.model.html#.addChangesToSaveRequest">apex.model.addChangesToSaveRequest</a>, and <a href="apex.model.html#.save">apex.model.save</a>.
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for addChangesToSaveRequest">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRequestData</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">An empty or partially filled in object to which changes for this model will be added.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="allowAdd"><span class="type-signature"></span>allowAdd<span class="signature">(pParentRecord<span class="signature-attributes">opt</span>, pAddAction<span class="signature-attributes">opt</span>, pRecordsToAdd<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark allowAdd(pParentRecord, pAddAction, pRecordsToAdd) returns {boolean}" href="#allowAdd"></a>
    </div>


    



<div class="description">
    Determine if any record or one or more specific records can be added to the table collection or, for trees,
the parent record's children collection.

<p>For any record or one or more specific records to be addable:</p>
<ul>
<li>the shape must not be record and</li>
<li>if the shape is a tree the parent record is required and must have a children collection</li>
<li>the model must have the <code class="prettyprint">editable</code> option set to true and</li>
<li>if the shape is tree the type of the parent record must allow add or</li>
<li>if the shape is table or the parent record has no type or doesn't specify if it allows add the
default type must allow add</li>
<li>and if the model specifies an additional <code class="prettyprint">check</code> callback function
  it must allow or deny the add</li>
<li>then, for tree shape only, if adding is allowed and <code class="prettyprint">pRecordsToAdd</code>
  is given then check if the type of each record to add is a valid child type for the parent using
  validChildren type property.</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for allowAdd">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pParentRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The parent record to add children to if the shape is tree,
 null if the shape is table.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pAddAction</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Specifies how/why the records are to be added.
 Standard values are "new", "move", or "copy".</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pRecordsToAdd</code></th>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="model.html#.Record">model.Record</a>></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">An array of the records to be added. Only used for tree shape models.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if add is allowed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example checks if adding is allowed before inserting a record.</p>
    
        <pre class="prettyprint"><code>if ( myModel.allowAdd() ) {
    myModel.insertNewRecord();
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="allowDelete"><span class="type-signature"></span>allowDelete<span class="signature">(pRecord)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark allowDelete(pRecord) returns {boolean}" href="#allowDelete"></a>
    </div>


    



<div class="description">
    Determine if the given record can be deleted.

<p>For a record to be deletable:</p>
<ul>
<li>the shape must not be record and</li>
<li>if the shape is a tree the record must not be the root record</li>
<li>the model must have the <code class="prettyprint">editable</code> option set to true and</li>
<li>the type of the record must allow delete or</li>
<li>if the record has no type or doesn't specify if it can be deleted the default type must allow delete</li>
<li>and if the model specifies an additional <code class="prettyprint">check</code> callback
  function it must allow or deny the delete</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for allowDelete">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">The record to check if deleting is allowed.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if the record can be deleted.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example checks if deleting is allowed before deleting a record.</p>
    
        <pre class="prettyprint"><code>if ( myModel.allowDelete( record ) ) {
    myModel.deleteRecords( [record] );
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="allowDrag"><span class="type-signature"></span>allowDrag<span class="signature">(pRecord)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark allowDrag(pRecord) returns {boolean}" href="#allowDrag"></a>
    </div>


    



<div class="description">
    Determine if an record can be dragged.
Note this is just a check to see if the dragging can start. What is allowed on drop (move, copy etc.)
is a separate check.

<p>For a record to be draggable:</p>
<ul>
<li>the shape must not be record and</li>
<li>the model must have the <code class="prettyprint">editable</code> option set to true and</li>
<li>the type of the record must allow drag or</li>
<li>if the record has no type or doesn't specify if it can be dragged the default type must allow drag</li>
<li>and if the model specifies an additional <code class="prettyprint">check</code> callback function
  it must allow or deny the drag</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for allowDrag">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">The record to check if it can be dragged.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if the record can be dragged.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="allowEdit"><span class="type-signature"></span>allowEdit<span class="signature">(pRecord)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark allowEdit(pRecord) returns {boolean}" href="#allowEdit"></a>
    </div>


    



<div class="description">
    Determine if the given record can be edited.

<p>For a record to be editable:</p>
<ul>
<li>the model must have the <code class="prettyprint">editable</code> option set to true and</li>
<li>the type of the record must allow edit or</li>
<li>if the record has no type or doesn't specify if it can be edited the default type must allow edit</li>
<li>and if the model specifies an additional <code class="prettyprint">check</code> callback
  function it must allow or deny the edit</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for allowEdit">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">The record to check if editing is allowed.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if the record can be edited.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example checks if editing is allowed before setting a value.</p>
    
        <pre class="prettyprint"><code>if ( myModel.allowEdit( record ) ) {
    myModel.setValue( record, "NAME", newName );
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="canRevertRecord"><span class="type-signature"></span>canRevertRecord<span class="signature">(pRecord)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark canRevertRecord(pRecord) returns {boolean}" href="#canRevertRecord"></a>
    </div>


    



<div class="description">
    <p>Return true if the record exists in the model and has a change that can be reverted
(is updated or is deleted). See also <a href="model.html#revertRecords">model#revertRecords</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for canRevertRecord">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">The record to check if it can be reverted.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if record has change that can be reverted.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example checks if a record can be reverted before reverting it.</p>
    
        <pre class="prettyprint"><code>if ( myModel.canRevertRecord( record ) ) {
    myModel.revertRecords( [record] );
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="check"><span class="type-signature"></span>check<span class="signature">(pOperation, pRecord<span class="signature-attributes">opt</span>, pAddAction<span class="signature-attributes">opt</span>, pRecordsToAdd<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark check(pOperation, pRecord, pAddAction, pRecordsToAdd) returns {boolean}" href="#check"></a>
    </div>


    



<div class="description">
    <p>Low level operation permission checking. Better to use <a href="model.html#allowEdit">model#allowEdit</a>, <a href="model.html#allowDelete">model#allowDelete</a>,
<a href="model.html#allowAdd">model#allowAdd</a>, <a href="model.html#allowDrag">model#allowDrag</a>.
The purpose is to determine what kinds of edits are allowed.</p>

<p>If the model is not editable (editable option is false) then no operations are allowed.
Also no operations are allowed on deleted records or aggregate records.</p>

<p>Operation checking is based on the type of the record (as determined by the type field) and the type
information given to the model in the types option. Type names are strings. The special type name
"default" is used to provide a default when records don't have a type or the type of the record doesn't
specify a value for the operation. Note: The model types option is not currently documented and may change
in the future.</p>

<p>Operations are strings. The standard operation permissions are "canAdd", "canDelete", "canEdit",
"canDrag". You can define your own as well.</p>

<p>First the record itself is checked to see if it allows the operation by checking if the record metadata contains
the specified permission.
Next the type of the record is checked to see if it allows the operation.
If the record has no type or the operations for that type didn't specify a value for the operation then
the default type is checked to see if it allows the operation.
The value of an operation is true or false or a function that returns true or false. The function is
called in the context of this model with arguments <code class="prettyprint">pRecord, pAddAction, pRecordsToAdd</code>.
If the model options includes a <code class="prettyprint">check</code> function then it is called with the result so far and all the
same arguments as this check function. 参见 <a href="model.html#.CheckCallback">model.CheckCallback</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for check">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pOperation</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">One of the default checks ("canEdit", "canDelete", "canAdd", "canDrag") or a custom
operation.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The record to check if action is allowed on it.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pAddAction</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Only used by allowAdd see <a href="model.html#allowAdd">model#allowAdd</a> for details.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pRecordsToAdd</code></th>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="model.html#.Record">model.Record</a>></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Only used by allowAdd see <a href="model.html#allowAdd">model#allowAdd</a> for details.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if the operation is allowed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="child"><span class="type-signature"></span>child<span class="signature">(pNode, pIndex)</span><span class="type-signature"> &rarr; {<a href="model.html#.Node">model.Node</a>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark child(pNode, pIndex) returns {model.Node}" href="#child"></a>
    </div>


    



<div class="description">
    <p>Return the child at pIndex of node pNode.</p>

<p>This method must only be used on tree shape models.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for child">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pNode</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


            
            </td>

            

            

            <td class="description last">The node who's ith child is to be returned.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pIndex</code></th>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">The index of the child node.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The ith child node.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example loops over the children of a parent node.</p>
    
        <pre class="prettyprint"><code>var i, node;
for ( i = 0; i &lt; model.childCount( parentNode ); i++ ) {
    node = mode.child( parentNode, i );
    // do something with node
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="childCount"><span class="type-signature"></span>childCount<span class="signature">(pNode)</span><span class="type-signature"> &rarr; {integer}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark childCount(pNode) returns {integer}" href="#childCount"></a>
    </div>


    



<div class="description">
    <p>Returns the number of children that node <code class="prettyprint">pNode</code> has, or null if the answer is not yet known.
A node that has its children lazy loaded may not know how many children it has until they are loaded.</p>

<p>This method must only be used on tree shape models.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for childCount">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pNode</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


            
            </td>

            

            

            <td class="description last">The node who's children are to be counted.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Number of children, 0 if none, or null if not known.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">integer</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example loops over the children of a parent node.</p>
    
        <pre class="prettyprint"><code>var i, node;
for ( i = 0; i &lt; model.childCount( parentNode ); i++ ) {
    node = mode.child( parentNode, i );
    // do something with node
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="clearChanges"><span class="type-signature"></span>clearChanges<span class="signature">()</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark clearChanges()" href="#clearChanges"></a>
    </div>


    



<div class="description">
    This marks the model as not having any changes. All change indications will be removed.
If any record deletes are pending they will be removed by this method. This does not revert or undo the
changes but rather removes all metadata that is tracking changes. This happens implicitly after the model
is saved (参见 <a href="model.html#save">model#save</a>). Use this method if changes are persisted in some other way or the
changes should be discarded before refreshing the model.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:clearChanges">model#event:clearChanges</a></li>
</ul>











    <h5>Example</h5>
    
        <p class="code-caption">This example clears all the changes of an interactive grid with static id "emp"
in response to a Cancel or Abort button being pressed by the user. Use in a Execute JavaScript Code dynamic action.
If not for the call to <code class="prettyprint">clearChanges</code> before <code class="prettyprint">refresh</code>
the interactive grid would prompt the user to save changes.</p>
    
        <pre class="prettyprint"><code>var ig$ = apex.region( "emp" ).widget(),
    view = ig$.interactiveGrid( "getCurrentView" );
if ( view.supports.edit ) {
    // leave edit mode so that the column items will be reinitialized
    ig$.interactiveGrid( "getActions" ).set( "edit", false );
    view.model.clearChanges();
}
apex.region("emp").refresh();</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="clearData"><span class="type-signature"></span>clearData<span class="signature">()</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark clearData()" href="#clearData"></a>
    </div>


    



<div class="description">
    <p>Remove all data from the model.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:refresh">model#event:refresh</a></li>
</ul>












        
            

    

    <div class="hw">
    <h4 class="name" id="clearSelection"><span class="type-signature"></span>clearSelection<span class="signature">()</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark clearSelection()" href="#clearSelection"></a>
    </div>


    



<div class="description">
    <p>Unselect all the selected records. See also <a href="model.html#setSelectionState">model#setSelectionState</a>.</p>

<p>This method should only be used by view widgets to persist the view selection state in metadata property
<code class="prettyprint">sel</code>.
Note there is no notification about this metadata change. Listen to the view for selection change events. Also
use the view to change the selection.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="copyRecords"><span class="type-signature"></span>copyRecords<span class="signature">(pRecords, pParentRecord<span class="signature-attributes">opt</span>, pAfterRecord<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark copyRecords(pRecords, pParentRecord, pAfterRecord) returns {Array.&lt;string>}" href="#copyRecords"></a>
    </div>


    



<div class="description">
    <p>Copies the given records and inserts the copies into the collection (table or parent node's children) or, for
tree shape only, to a new parent node.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for copyRecords">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecords</code></th>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="model.html#.Record">model.Record</a>></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Array of records to copy.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pParentRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Only used when the shape is tree. This is the parent node to insert the copies into. If null then insert to root.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pAfterRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The copied records are added after this record or if null at the beginning.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:copy">model#event:copy</a></li>
</ul>









<h5>Returns:</h5>

        
<div class="param-desc">
    Array of temp primary keys of inserted records.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This examples copies the selected records to just after the last selected record.</p>
    
        <pre class="prettyprint"><code>var keys = model.copyRecords( selectedRecords, null, selectedRecords[ selectedRecords.length - 1 ] );</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="deleteRecords"><span class="type-signature"></span>deleteRecords<span class="signature">(pRecords)</span><span class="type-signature"> &rarr; {number}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark deleteRecords(pRecords) returns {number}" href="#deleteRecords"></a>
    </div>


    



<div class="description">
    <p>Delete one or more records from a table or tree.
</p>
<p>If the <code class="prettyprint">onlyMarkForDelete</code>
option is true the records are just marked for delete.
Records marked for delete will be included in data returned by <a href="model.html#forEach">model#forEach</a>, <a href="model.html#forEachInPage">model#forEachInPage</a>,
<a href="model.html#walkTree">model#walkTree</a>, etc. and can be found by <a href="model.html#getRecord">model#getRecord</a>. They will be deleted once the
<a href="model.html#clearChanges">model#clearChanges</a> method is called explicitly or implicitly after data has been saved successfully.
</p>
<p>If the <code class="prettyprint">onlyMarkForDelete</code> option is false
the records are deleted right away and are no longer part of the model. In either case the deleted records
are on the change list so the delete can be persisted.</p>

<p>If <code class="prettyprint">pRecords</code> contains records that cannot be found in the collection
or finds records that can't be deleted they are ignored and a debug warning is given.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for deleteRecords">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecords</code></th>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="model.html#.Record">model.Record</a>></span>


            
            </td>

            

            

            <td class="description last">An array of records to delete.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:delete">model#event:delete</a></li>
</ul>









<h5>Returns:</h5>

        
<div class="param-desc">
    The number of records deleted or marked for delete.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example checks if deleting is allowed before deleting a record.</p>
    
        <pre class="prettyprint"><code>if ( myModel.allowDelete( record ) ) {
    myModel.deleteRecords( [record] );
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="dragOperations"><span class="type-signature"></span>dragOperations<span class="signature">(pRecords)</span><span class="type-signature"> &rarr; {object}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark dragOperations(pRecords) returns {object}" href="#dragOperations"></a>
    </div>


    



<div class="description">
    <p>Determine what drag operations are allowed for a set of records. Not all views support dragging.
Dragging is a view operation. The model provides this method simply to allow type based configuration
of available drag operations. Note: The model types option is not currently documented and may change
in the future.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for dragOperations">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecords</code></th>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="model.html#.Record">model.Record</a>></span>


            
            </td>

            

            

            <td class="description last">array of records to determine drag operations for or null when dragging
    an external record into this model.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    object with allowed drag operations. The properties are: "normal", "ctrl", "alt", "shift", "meta".
    The standard values are "move", "copy" or "add". Other values are allowed. The normal property is required.
    The default is: <code class="prettyprint">{ normal: "move", ctrl: "copy" }</code>
    or if <code class="prettyprint">pRecords</code> is null <code class="prettyprint">{ normal: "add" }</code>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="fetch"><span class="type-signature"></span>fetch<span class="signature">(pOffset<span class="signature-attributes">opt</span>, pCallback<span class="signature-attributes">opt</span>, pNoProgress<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {promise}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark fetch(pOffset, pCallback, pNoProgress) returns {promise}" href="#fetch"></a>
    </div>


    



<div class="description">
    <p>Retrieve model data from the server. Data is requested starting at the given offset (or 0 if offset is
not given). Data is fetched in model option <code class="prettyprint">pageSize</code> chunks.
Can use either the callback argument or the returned promise to determine when the request is complete.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for fetch">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pOffset</code></th>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Zero based offset of the data to fetch. Only applies to table shape
                          models. This is rarely needed because table data is automatically fetched as
                          needed when requested via the <a href="model.html#forEachInPage">model#forEachInPage</a> method.
                          Omit this param when not needed.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pCallback</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">A function to call when the request is complete. The callback is passed an
                          Error argument only if there is an error.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pNoProgress</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Set to true to not show progress during the fetch.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:addData">model#event:addData</a></li>
</ul>









<h5>Returns:</h5>

        
<div class="param-desc">
    A promise if the fetch is initiated, null if there is already a fetch in progress,
and false if <code class="prettyprint">pOffset</code> is beyond the end of the data or master record is
inserted or deleted. If and only if a promise is returned, <code class="prettyprint">pCallback</code> will be called.
It receives no arguments when resolved and an <code class="prettyprint">Error</code> argument when rejected.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">promise</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="fetchAll"><span class="type-signature"></span>fetchAll<span class="signature">(pCallback)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark fetchAll(pCallback)" href="#fetchAll"></a>
    </div>


    



<div class="description">
    <p>Fetch all the data from the server into the model. This repeatedly calls <a href="model.html#fetch">model#fetch</a> until the server reports
there is no more data. This is only for table shape models.
Data is fetched in model option <code class="prettyprint">pageSize</code> chunks.</p>
<p>Use with caution. Loading too much data onto the client can take a long time and cause the browser to
become unresponsive.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for fetchAll">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pCallback</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">function that is called after each fetch completes. It receives an object with properties:
<ul>
  <li>offset: the current offset in the model that was just added</li>
  <li>total: total records in the model (see <a href="model.html#getTotalRecords">model#getTotalRecords</a>)</li>
  <li>done: true if all the data is fetched false otherwise. When true this is the last time the callback is called.</li>
</ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Example</h5>
    
        <p class="code-caption">This example fetches all the data before using <a href="model.html#forEach">model#forEach</a> to loop over the records.</p>
    
        <pre class="prettyprint"><code>model.fetchAll( function( status ) {
    if ( status.done } {
        model.forEach( function( record, index, id ) {
            // do something with each record
        }
    }
} );</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="fetchChildNodes"><span class="type-signature"></span>fetchChildNodes<span class="signature">(pNode, pCallback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {promise}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark fetchChildNodes(pNode, pCallback) returns {promise}" href="#fetchChildNodes"></a>
    </div>


    



<div class="description">
    <p>Fetch child nodes for node <code class="prettyprint">pNode</code>.
This method is only used for trees that lazy load data from the sever as needed. The top level
of nodes should not be lazy loaded.</p>

<p>This is an asynchronous operation. When it completes the <code class="prettyprint">pCallback</code>
function is called with a status argument. Where status is:
<ul>
    <li>> 0 (or true) if 1 or more children were fetched.</li>
    <li>0 if the node has 0 children.</li>
    <li>Error if there was an error fetching the children.</li>
</ul>

</p><p>Can use either the callback argument or the returned promise to determine when the request is complete.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for fetchChildNodes">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pNode</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The node record to fetch children for.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pCallback</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">callback function that is called after nodes have been fetched or there is an error.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:addData">model#event:addData</a></li>
</ul>









<h5>Returns:</h5>

        
<div class="param-desc">
    A promise that receives count of children fetched when resolved and an Error argument when rejected.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">promise</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="fetchRecords"><span class="type-signature"></span>fetchRecords<span class="signature">(pRecords, pCallback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {promise}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark fetchRecords(pRecords, pCallback) returns {promise}" href="#fetchRecords"></a>
    </div>


    



<div class="description">
    <p>Fetches fresh data from the server for the given records. The existing records in the model are replaced
with the new returned record from the server. The model must have a <code class="prettyprint">identityField</code>
option defined for this to work.
Can use either the callback argument or the returned promise to determine when the request is complete.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for fetchRecords">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecords</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Array of records to be fetched.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pCallback</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">A function to call when the request is complete. The callback is passed an
 Error argument only if there is an error.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:refreshRecords">model#event:refreshRecords</a></li>
</ul>









<h5>Returns:</h5>

        
<div class="param-desc">
    A promise that receives no arguments when resolved and an Error argument when rejected.
 If there are no records to fetch then null is returned and <code class="prettyprint">pCallback</code> is not called.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">promise</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example fetches the selected records from interactive grid with static id "emp".
There is often no need know when the Ajax request completes because the view is updated from model
notifications.</p>
    
        <pre class="prettyprint"><code>var model = apex.region( "emp" ).call( "getCurrentView" );
model.fetchRecords( apex.region( "emp" ).call( "getSelectedRecords" );</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="forEach"><span class="type-signature"></span>forEach<span class="signature">(pCallback, pThisArg<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark forEach(pCallback, pThisArg)" href="#forEach"></a>
    </div>


    



<div class="description">
    <p>Iterate over the model collection. Calls <code class="prettyprint">pCallback</code> for each record in the model.
Similar to <code class="prettyprint">Array.prototype.forEach</code>. The model shape must be table or tree.
This will never fetch new data. This includes aggregate records if any.
For shape tree see also <a href="model.html#walkTree">model#walkTree</a>.</p>

<p>The callback receives the record, the zero based index of the record, and the identity (recordId)
of the record.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for forEach">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pCallback</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.IteratorCallback">model.IteratorCallback</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Function called for each record in the model collection.
    The function is given the current record, index, and id.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pThisArg</code></th>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Value to use as <code class="prettyprint">this</code>
    when calling <code class="prettyprint">pCallback</code>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Example</h5>
    
        <p class="code-caption">This example calculates the total of field SALARY for all the records that are
currently in the model. Deleted and aggregate records are skipped.</p>
    
        <pre class="prettyprint"><code>var total = 0;
model.forEach( function( record, index, id ) {
    var salary = parseFloat( model.getValue( record, "SALARY" ) ),
        meta = model.getRecordMetadata( id );

    if ( !isNaN( salary ) &amp;&amp; !meta.deleted &amp;&amp; !meta.agg ) {
        total += salary;
    }
} );
// do something with total</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="forEachInPage"><span class="type-signature"></span>forEachInPage<span class="signature">(pOffset, pCount, pCallback, pThisArg<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark forEachInPage(pOffset, pCount, pCallback, pThisArg)" href="#forEachInPage"></a>
    </div>


    



<div class="description">
    <p>Iterate over a range (page) of the model collection. This is only valid for table shape models.
Calls <code class="prettyprint">pCallback</code> for <code class="prettyprint">pCount</code>
records in the collection starting at <code class="prettyprint">pOffset</code>.
If the model doesn't yet contain the requested records they will be fetched from the server
by calling <a href="model.html#fetch">model#fetch</a>. If the collection has fewer records than requested or if there is an error
fetching data from the server then <code class="prettyprint">pCallback</code> is called with a null record.</p>

<p>The callback receives the record, the zero based index of the record, and the identity (recordId)
of the record.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for forEachInPage">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pOffset</code></th>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Zero based index to begin iterating.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pCount</code></th>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The number of records to call <code class="prettyprint">pCallback</code> for.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pCallback</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.IteratorCallback">model.IteratorCallback</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Function called for each record in the model collection.
    The function is given the current record, index, and id.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pThisArg</code></th>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Value to use as <code class="prettyprint">this</code> when calling
    <code class="prettyprint">pCallback</code>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Example</h5>
    
        <p class="code-caption">This example renders a <code class="prettyprint">pageSize</code> page of records
  starting at offset <code class="prettyprint">currentPageOffset</code>.</p>
    
        <pre class="prettyprint"><code>var count = 0,
    pageOffset = currentPageOffset;
model.forEachInPage( pageOffset, pageSize, function( record, index, id ) {
    if ( record ) {
        // render the record
        count += 1;
    }
    if ( count === pageSize || !record ) {
        // done rendering this page of records
    }
} );</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="getChanges"><span class="type-signature"></span>getChanges<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="model.html#.RecordMetadata">model.RecordMetadata</a>>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getChanges() returns {Array.&lt;model.RecordMetadata>}" href="#getChanges"></a>
    </div>


    



<div class="description">
    <p>Return an array of record metadata for all changed records.
Do not make any changes to the data structure returned. See also <a href="model.html#isChanged">model#isChanged</a>.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Array of record metadata for changed records.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="model.html#.RecordMetadata">model.RecordMetadata</a>></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example logs a console message if the model has changed that includes the number of changes.</p>
    
        <pre class="prettyprint"><code>if ( model.isChanged() ) {
    console.log("Model has " + model.getChanges().length + " changes.");
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="getErrors"><span class="type-signature"></span>getErrors<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="model.html#.RecordMetadata">model.RecordMetadata</a>>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getErrors() returns {Array.&lt;model.RecordMetadata>}" href="#getErrors"></a>
    </div>


    



<div class="description">
    <p>Return an array of record metadata for all records with errors.
Do not make any changes to the data structure returned.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Array of record metadata for error records.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="model.html#.RecordMetadata">model.RecordMetadata</a>></span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="getFieldKey"><span class="type-signature"></span>getFieldKey<span class="signature">(pFieldName)</span><span class="type-signature"> &rarr; {string|number|undefined}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getFieldKey(pFieldName) returns {string|number|undefined}" href="#getFieldKey"></a>
    </div>


    



<div class="description">
    <p>Return the index/key to use for the given field name when accessing that field of a record.
Use the value returned from this method to access a record field without using <a href="model.html#getValue">model#getValue</a>.
This will work regardless of if the records are stored as objects or arrays.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for getFieldKey">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pFieldName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The field name.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    returns undefined if the field doesn't exist or is virtual
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>
|

<span class="param-type">number</span>
|

<span class="param-type">undefined</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example gets the field key for the model field named "COST" and uses it
in a loop over array of records <code class="prettyprint">selectedRecords</code>.</p>
    
        <pre class="prettyprint"><code>var i, cost,
    costKey = model.getFieldKey("COST");
for ( i = 0; i &lt; selectedRecords.length; i++ ) {
    cost = selectedRecords[i][costKey];
    // do something with cost
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="getFieldMetadata"><span class="type-signature"></span>getFieldMetadata<span class="signature">(pFieldName)</span><span class="type-signature"> &rarr; {<a href="model.html#.FieldMeta">model.FieldMeta</a>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getFieldMetadata(pFieldName) returns {model.FieldMeta}" href="#getFieldMetadata"></a>
    </div>


    



<div class="description">
    <p>Return metadata object for given field name. The field metadata is supplied when the model is created
in option property <code class="prettyprint">fields</code>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for getFieldMetadata">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pFieldName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The field name.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Metadata object or null if there is no such field.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="model.html#.FieldMeta">model.FieldMeta</a></span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="getOption"><span class="type-signature"></span>getOption<span class="signature">(pName)</span><span class="type-signature"> &rarr; {*}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getOption(pName) returns {*}" href="#getOption"></a>
    </div>


    



<div class="description">
    <p>Get the value of the given model option. The model options are provided in the call
to <a href="apex.model.html#.create">apex.model.create</a>. See also <a href="model.html#setOption">model#setOption</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for getOption">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of option to get.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Option value.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
        <p class="code-caption">This example gets the <code class="prettyprint">onlyMarkForDelete</code> option.</p>
    
        <pre class="prettyprint"><code>var markForDelete = model.getOption( "onlyMarkForDelete" );</code></pre>
    
        <p class="code-caption">This example gets the <code class="prettyprint">hasTotalRecords</code> option.</p>
    
        <pre class="prettyprint"><code>var hasTotalRecords = model.getOption( "hasTotalRecords" );</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="getRecord"><span class="type-signature"></span>getRecord<span class="signature">(pRecordId<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getRecord(pRecordId)" href="#getRecord"></a>
    </div>


    



<div class="description">
    <p>Return the record for a given record id. This only considers records that are currently fetched
into the model. The server may have a record with the given record id but if it hasn't yet been
fetched into the model, it will not be found with this method.</p>
<p>For table or tree shape models that define an <code class="prettyprint">identityField</code>
option, call with the value of the record's identity field or if the records have multiple identity fields
call with an array of ids or a string representation of the combined identity fields as returned by
<a href="model.html#getRecordId">model#getRecordId</a>.</p>
<p>For table shape models that don't define an <code class="prettyprint">identityField</code> option
call with the index of the record. This is the same as <a href="model.html#recordAt">model#recordAt</a>.
</p><p>For record shape models call with no record id to get the one and only model record.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for getRecord">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecordId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The record id.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Record or null if no record corresponding to <code class="prettyprint">pRecordId</code> is found.
</div>



    


    <h5>Examples</h5>
    
        <p class="code-caption">This example returns the record with identity "001002".</p>
    
        <pre class="prettyprint"><code>record = model.getRecord( "001002" );</code></pre>
    
        <p class="code-caption">This example has a table shape model with two identity fields. It returns the
record from a model with identity <code class="prettyprint">["AXB9", "00003"]</code>.</p>
    
        <pre class="prettyprint"><code>record = model.getRecord( ["AXB9", "00003"] );</code></pre>
    
        <p class="code-caption">This example returns the record from a model with shape record.</p>
    
        <pre class="prettyprint"><code>record = model.getRecord();</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="getRecordId"><span class="type-signature"></span>getRecordId<span class="signature">(pRecord)</span><span class="type-signature"> &rarr; {string}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getRecordId(pRecord) returns {string}" href="#getRecordId"></a>
    </div>


    



<div class="description">
    <p>Given a record return the unique identifier (id) for the record. The id is used in calls to
<a href="model.html#getRecordMetadata">model#getRecordMetadata</a> and <a href="model.html#getRecord">model#getRecord</a>. If the model has multiple
identity fields this returns a string representation of the combined fields.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for getRecordId">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">The record to get the id from.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The record id or null if no identityField is defined.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example gets the identity of record <code class="prettyprint">someRecord</code>
    and uses it to get the record metadata.</p>
    
        <pre class="prettyprint"><code>var id = model.getRecordId( someRecord ),
    meta = model.getRecordMetadata( id );
// use meta for something</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="getRecordMetadata"><span class="type-signature"></span>getRecordMetadata<span class="signature">(pRecordId)</span><span class="type-signature"> &rarr; {<a href="model.html#.RecordMetadata">model.RecordMetadata</a>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getRecordMetadata(pRecordId) returns {model.RecordMetadata}" href="#getRecordMetadata"></a>
    </div>


    



<div class="description">
    <p>Return the metadata object for the record given by the record id. This only applies to models that
define an identity field with option <code class="prettyprint">identityField</code>.</p>

<p>Upper layers can store information related to the record here. The metadata should be related to the
record itself and not the view of it.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for getRecordMetadata">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecordId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Value of the record's identity field or array of values of the record's
    identity fields or value returned by <a href="model.html#getRecordId">model#getRecordId</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Metadata object or null if there is no record associated with
    <code class="prettyprint">pRecordId</code>.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="model.html#.RecordMetadata">model.RecordMetadata</a></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example checks if the record <code class="prettyprint">someRecord</code>
    is updated.</p>
    
        <pre class="prettyprint"><code>var id = model.getRecordId( someRecord ),
    meta = model.getRecordMetadata( id );
if ( meta.updated ) {
    // do something related to the updated record
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="getRecordValue"><span class="type-signature"></span>getRecordValue<span class="signature">(pRecordId, pFieldName)</span><span class="type-signature"> &rarr; {*}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getRecordValue(pRecordId, pFieldName) returns {*}" href="#getRecordValue"></a>
    </div>


    



<div class="description">
    <p>Get the value of a record field given the record id.
This is only useful when the model shape is table or tree.
If there are many field values to get or set use <a href="model.html#getRecord">model#getRecord</a> followed by <a href="model.html#getValue">model#getValue</a>
or <a href="model.html#setValue">model#setValue</a>. See also <a href="model.html#setRecordValue">model#setRecordValue</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for getRecordValue">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecordId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Value of the record's identity field or array of values of the record's
    identity fields or value returned by <a href="model.html#getRecordId">model#getRecordId</a>.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pFieldName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of record field to get.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Value of record field.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example gets the NAME field of the record with identity "00013".</p>
    
        <pre class="prettyprint"><code>var name = model.getRecordValue( "00013", "NAME" );</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="getSelectedCount"><span class="type-signature"></span>getSelectedCount<span class="signature">()</span><span class="type-signature"> &rarr; {integer}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getSelectedCount() returns {integer}" href="#getSelectedCount"></a>
    </div>


    



<div class="description">
    <p>Return the number of currently selected records. This only applies if a view is storing selection state
in the model. See also <a href="model.html#setSelectionState">model#setSelectionState</a>.</p>

<p>This is used by views that store view selection state in the model to return the selection count.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The number of selected records.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">integer</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="getSelectedRecords"><span class="type-signature"></span>getSelectedRecords<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="model.html#.Record">model.Record</a>>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getSelectedRecords() returns {Array.&lt;model.Record>}" href="#getSelectedRecords"></a>
    </div>


    



<div class="description">
    <p>Return an array of the selected records. This only applies if a view is storing selection state
in the model. See also <a href="model.html#setSelectionState">model#setSelectionState</a>.</p>

<p>This is used by views that store view selection state in the model to return the selection.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The selected records.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="model.html#.Record">model.Record</a>></span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="getServerTotalRecords"><span class="type-signature"></span>getServerTotalRecords<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getServerTotalRecords() returns {number}" href="#getServerTotalRecords"></a>
    </div>


    



<div class="description">
    <p>Returns the total number of records from the server's perspective or -1 if unknown.</p>

<p>For table shape models the server provides the total but for editable grids the number of inserted records
is added and the number of deleted records subtracted. This is so the number reflects what is likely
to be on the server after changes are saved.</p>

<p>For tree shape models this is not supported; returns -1.</p>

<p>For record shape models the number is always 1.</p>

<p>Note: Aggregate records are never included.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The number of records or -1 if unknown.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="getTotalRecords"><span class="type-signature"></span>getTotalRecords<span class="signature">()</span><span class="type-signature"> &rarr; {integer}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getTotalRecords() returns {integer}" href="#getTotalRecords"></a>
    </div>


    



<div class="description">
    <p>Returns the total number of records in the model collection or -1 if unknown.</p>

<p>For table shape models the total number of records may not be known or it may be an estimate.
If the pagination type is "none" then the total records is known and it is the same as what is in the collection.
If the pagination type is "progressive" and the model has paged to the end (all pages
have been received and the server has said there is no more) then the total records is known and it
is the same as what is in the collection (which could be different from what is actually on the server).
If the server has told the model how many records it has then that is returned. This is an estimate of what
the client model may eventually hold. This value may change as new pages are fetched.
If the server has not told the model how many records it has then the total is unknown.
</p>
<p>For tree shape models the total number of records is not often needed.
It is also not readily available so the nodes must be counted. The total doesn't include nodes that
have not yet been fetched and never returns -1 (unknown) even if there are nodes that haven't been fetched.
</p>
<p>For record shape the number is always 1.</p>

<p>Note: Includes records that are marked for delete in the count.
Also includes aggregate records if any in the count.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The number of records or -1 if unknown.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">integer</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="getValue"><span class="type-signature"></span>getValue<span class="signature">(pRecord<span class="signature-attributes">opt</span>, pFieldName)</span><span class="type-signature"> &rarr; {*}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark getValue(pRecord, pFieldName) returns {*}" href="#getValue"></a>
    </div>


    



<div class="description">
    <p>Get the value of a record field given the record itself
or omit the record when the model shape is record. See also <a href="model.html#setValue">model#setValue</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for getValue">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The record to return the value of the given column.
 Omit if model shape is record.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pFieldName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Name of record field to get.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Value of record field.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
        <p class="code-caption">This example returns the NAME field of the given record.</p>
    
        <pre class="prettyprint"><code>var name = model.getValue( someRecord, "NAME" );</code></pre>
    
        <p class="code-caption">This example returns the NAME field from a record shape model.</p>
    
        <pre class="prettyprint"><code>var name = model.getValue( "NAME" );</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="hasChildren"><span class="type-signature"></span>hasChildren<span class="signature">(pNode)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark hasChildren(pNode) returns {boolean}" href="#hasChildren"></a>
    </div>


    



<div class="description">
    <p>Returns true if the node <code class="prettyprint">pNode</code> has children, false if it does not,
and null if not yet known.
A node that has its children lazy loaded may not know if it has any children until they are loaded.
</p></div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for hasChildren">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pNode</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


            
            </td>

            

            

            <td class="description last">The node to check if it has any children.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if the node has children, false if it does not, and null if not known.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example logs a message to the console if the node is a leaf (has no children).</p>
    
        <pre class="prettyprint"><code>if ( model.hasChildren( node ) === true ) {
    console.log("node is a leaf");
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="hasErrors"><span class="type-signature"></span>hasErrors<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark hasErrors() returns {Boolean}" href="#hasErrors"></a>
    </div>


    



<div class="description">
    <p>Return true if the model has any errors.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if model has errors and false otherwise.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example logs a console message if the model has errors.</p>
    
        <pre class="prettyprint"><code>if ( model.hasErrors() ) {
    console.log("Model has errors.");
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="indexOf"><span class="type-signature"></span>indexOf<span class="signature">(pRecord)</span><span class="type-signature"> &rarr; {integer}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark indexOf(pRecord) returns {integer}" href="#indexOf"></a>
    </div>


    



<div class="description">
    <p>Return the index of the record within the collection. The collection may include aggregate records.
Useful because <a href="model.html#forEachInPage">model#forEachInPage</a> method takes a starting index/offset.</p>

<p>Only applies to table and tree shape models. Throws an error if the model shape is record.
For tree shape models returns the index of the node among its siblings.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for indexOf">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">The record to return the index of.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The record index or -1 if not in collection.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">integer</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="insertNewRecord"><span class="type-signature"></span>insertNewRecord<span class="signature">(pParentRecord<span class="signature-attributes">opt</span>, pAfterRecord<span class="signature-attributes">opt</span>, pNewRecord<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {string}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark insertNewRecord(pParentRecord, pAfterRecord, pNewRecord) returns {string}" href="#insertNewRecord"></a>
    </div>


    



<div class="description">
    <p>Inserts a new record into the collection. Only applies to tree and table shape models.
For tree shape models the record is inserted under the given parent node. The model must
allow adding new records. 参见 <a href="model.html#allowAdd">model#allowAdd</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for insertNewRecord">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pParentRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Parent tree node. Only for tree shape models, must be null otherwise.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pAfterRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Record after which to insert the new record. If not given
  the new record is inserted at the beginning.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pNewRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The new record to insert. If not given a new record is created using defaults.
  The identity, meta, children, and parent fields if any will be initialized.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:insert">model#event:insert</a></li>
</ul>









<h5>Returns:</h5>

        
<div class="param-desc">
    The temporary primary key of inserted record.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="isChanged"><span class="type-signature"></span>isChanged<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark isChanged() returns {boolean}" href="#isChanged"></a>
    </div>


    



<div class="description">
    <p>Determine if the model has been changed in any way. See also <a href="model.html#getChanges">model#getChanges</a>.</p>

<p>Note: Auto inserted records don't count as changes unless they are also updated but
they are returned by <a href="model.html#getChanges">model#getChanges</a>.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if the model has changed and false otherwise.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example logs a console message if the model has changed.</p>
    
        <pre class="prettyprint"><code>if ( model.isChanged() ) {
    console.log("Model has changes.");
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="isIdentityField"><span class="type-signature"></span>isIdentityField<span class="signature">(pFieldName)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark isIdentityField(pFieldName) returns {boolean}" href="#isIdentityField"></a>
    </div>


    



<div class="description">
    Return true if the given field name is an identity field and false otherwise.
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for isIdentityField">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pFieldName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of record field.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="metadataChanged"><span class="type-signature"></span>metadataChanged<span class="signature">(pRecordId, pFieldName<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark metadataChanged(pRecordId, pFieldName)" href="#metadataChanged"></a>
    </div>


    



<div class="description">
    <p>Call this method if any properties of the metadata returned by <a href="model.html#getRecordMetadata">model#getRecordMetadata</a> are changed
external to this module. Most record or field metadata should not be changed externally. However it may
be useful and reasonable to externally change metadata that comes from the records initially such as canEdit
or custom metadata properties.
The result of calling this method is sending a <a href="model.html#event:metaChange">model#event:metaChange</a> notification.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for metadataChanged">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecordId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Value of the record's identity field or array of values of the record's
    identity fields or value returned by <a href="model.html#getRecordId">model#getRecordId</a>.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pFieldName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Name of record field that has a metadata change if any.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:metaChange">model#event:metaChange</a></li>
</ul>












        
            

    

    <div class="hw">
    <h4 class="name" id="modelId"><span class="type-signature"></span>modelId<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="model.html#.ModelId">model.ModelId</a>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark modelId() returns {model.ModelId}" href="#modelId"></a>
    </div>


    



<div class="description">
    Return the model id for this model.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="model.html#.ModelId">model.ModelId</a></span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="moveRecords"><span class="type-signature"></span>moveRecords<span class="signature">(pRecords, pParentRecord<span class="signature-attributes">opt</span>, pAfterRecord<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark moveRecords(pRecords, pParentRecord, pAfterRecord) returns {Array.&lt;string>}" href="#moveRecords"></a>
    </div>


    



<div class="description">
    <p>Moves the given records to a new position in the collection (table or parentRecord's children) or, for
tree shape only, to a new parent node.</p>

<p>For tree shape models if there is a <code class="prettyprint">parentIdentityField</code>
the moved records will have the parent identity field
set to the identity of the new parent record.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for moveRecords">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecords</code></th>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="model.html#.Record">model.Record</a>></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Array of records to move.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pParentRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Only used when the shape is tree.
    This is the parent node to insert the moved records into. If null then insert to root.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pAfterRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The moved records are added after this record or if null at the beginning.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:move">model#event:move</a></li>
</ul>









<h5>Returns:</h5>

        
<div class="param-desc">
    Array of record identities of moved records.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="parent"><span class="type-signature"></span>parent<span class="signature">(pNode)</span><span class="type-signature"> &rarr; {<a href="model.html#.Node">model.Node</a>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark parent(pNode) returns {model.Node}" href="#parent"></a>
    </div>


    



<div class="description">
    <p>Return the parent node of the given node. Only supported for tree shape models that have an
<code class="prettyprint">identityField</code> option defined.</p>

<p>This method must only be used on tree shape models.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for parent">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pNode</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


            
            </td>

            

            

            <td class="description last">The node to get the parent of.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Parent node or null for the root node and undefined otherwise
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="recordAt"><span class="type-signature"></span>recordAt<span class="signature">(index)</span><span class="type-signature"> &rarr; {<a href="model.html#.Record">model.Record</a>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark recordAt(index) returns {model.Record}" href="#recordAt"></a>
    </div>


    



<div class="description">
    <p>Return the record at the given index within the model collection. Only applies to table shape models.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for recordAt">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>index</code></th>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">The index of the record to return.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The record or null if there is no record at the given index.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example returns the fifth record in the collection assuming it exists.</p>
    
        <pre class="prettyprint"><code>var record = model.recordAt(5);</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="revertRecords"><span class="type-signature"></span>revertRecords<span class="signature">(pRecords)</span><span class="type-signature"> &rarr; {integer}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark revertRecords(pRecords) returns {integer}" href="#revertRecords"></a>
    </div>


    



<div class="description">
    <p>Revert one or more records to the way they were when first added to the model or last saved.
This undoes any changes made to the records. See also <a href="model.html#canRevertRecord">model#canRevertRecord</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for revertRecords">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecords</code></th>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="model.html#.Record">model.Record</a>></span>


            
            </td>

            

            

            <td class="description last">The records to revert.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:revert">model#event:revert</a></li>
</ul>









<h5>Returns:</h5>

        
<div class="param-desc">
    The number of records reverted. This can be less than the number of records in
  <code class="prettyprint">pRecords</code> if some of the records had no changes to revert.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">integer</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example checks if a record can be reverted before reverting it.</p>
    
        <pre class="prettyprint"><code>if ( myModel.canRevertRecord( record ) ) {
    myModel.revertRecords( [record] );
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="root"><span class="type-signature"></span>root<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="model.html#.Node">model.Node</a>}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark root() returns {model.Node}" href="#root"></a>
    </div>


    



<div class="description">
    <p>Return the root node of the tree. An error is thrown if the model shape is not tree.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Root node or null if there is no root.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">This example gets the tree shape model root node.</p>
    
        <pre class="prettyprint"><code>var rootNode = model.root();</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="save"><span class="type-signature"></span>save<span class="signature">(pCallback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {promise}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark save(pCallback) returns {promise}" href="#save"></a>
    </div>


    



<div class="description">
    <p>Save all changed model data to the server. The current changes are copied to the save request except
that volatile fields are not included (they are omitted/deleted i.e. not null or undefined) and the metadata
has the <code class="prettyprint">op</code> property added with value "d" if the record was deleted,
"i" if the record was inserted, and "u" if the record was updated.
If the record has no metadata field defined then one is added. For array
records it is the last element, for object records it is property <code class="prettyprint">_meta</code>.</p>

<p>It is possible to continue making changes to the model while a save is in progress.
Can use either the callback argument or the returned promise to determine when the request is complete.</p>

<p>See also <a href="apex.model.html#.save">apex.model.save</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for save">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pCallback</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">A function to call when the save request is complete.
                          callback( error, responseData );
                          The callback is passed an Error argument or array of server errors only
                          if there is an error. Otherwise error is null.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A promise if the save is initiated and null otherwise (there is already a save in progress or
there is nothing to save). If and only if a promise is returned, pCallback will be called. The promise receives no
arguments when resolved and an Error argument when rejected.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">promise</span>


    </dd>
</dl>

    



        
            

    

    <div class="hw">
    <h4 class="name" id="setData"><span class="type-signature"></span>setData<span class="signature">(pData, pOffset<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark setData(pData, pOffset)" href="#setData"></a>
    </div>


    



<div class="description">
    <p>Give the model data. This is used in cases where the model doesn't get data from the server or at least
not using the built in mechanisms.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for setData">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pData</code></th>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Model data to set.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pOffset</code></th>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Offset at which to add the data.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:refresh">model#event:refresh</a></li>

    <li><a href="model.html#event:addData">model#event:addData</a></li>
</ul>












        
            

    

    <div class="hw">
    <h4 class="name" id="setOption"><span class="type-signature"></span>setOption<span class="signature">(pName, pValue)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark setOption(pName, pValue)" href="#setOption"></a>
    </div>


    



<div class="description">
    <p>Set the value of the given model option. The model options are provided in the call
to <a href="apex.model.html#.create">apex.model.create</a>. See also <a href="model.html#getOption">model#getOption</a>.</p>

<p>The options that can be set are:</p>
<ul>
    <li>genIdPrefix</li>
    <li>pageItemsToSubmit</li>
    <li>fetchData</li>
    <li>saveData</li>
    <li>regionData</li>
    <li>parentRecordId</li>
    <li>editable</li>
    <li>pageSize</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for setOption">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of option to set. Not all options can be set.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pValue</code></th>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">Value to set the option to.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="setRecordValue"><span class="type-signature"></span>setRecordValue<span class="signature">(pRecordId, pFieldName, pValue)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark setRecordValue(pRecordId, pFieldName, pValue)" href="#setRecordValue"></a>
    </div>


    



<div class="description">
    <p>Set the value of a record field given the record id.
This is only useful when the model shape is table or tree.
If there are many field values to get or set use <a href="model.html#getRecord">model#getRecord</a> followed by <a href="model.html#getValue">model#getValue</a>
or <a href="model.html#setValue">model#setValue</a>. See also <a href="model.html#getRecordValue">model#getRecordValue</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for setRecordValue">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecordId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Value of the record's identity field or array of values of the record's
    identity fields or value returned by <a href="model.html#getRecordId">model#getRecordId</a>.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pFieldName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of record field to set.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pValue</code></th>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">Value to set.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Example</h5>
    
        <p class="code-caption">This example sets the NAME field of the record with identity "00013".</p>
    
        <pre class="prettyprint"><code>model.setRecordValue( "00013", "NAME", newName );</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="setSelectionState"><span class="type-signature"></span>setSelectionState<span class="signature">(pRecordId, pSelected)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark setSelectionState(pRecordId, pSelected)" href="#setSelectionState"></a>
    </div>


    



<div class="description">
    <p>Select or unselect the given record.</p>

<p>This method should only be used by view widgets to persist the view selection state in metadata property
<code class="prettyprint">sel</code>.
Note there is no notification about this metadata change. Listen to the view for selection change events. Also
use the view to change the selection.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for setSelectionState">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecordId</code></th>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">The record id to set the selection state metadata.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pSelected</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">The desired record selection state; true to select and false to unselect.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            

    

    <div class="hw">
    <h4 class="name" id="setValidity"><span class="type-signature"></span>setValidity<span class="signature">(pValidity, pRecordId, pFieldName<span class="signature-attributes">opt</span>, pMessage<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark setValidity(pValidity, pRecordId, pFieldName, pMessage)" href="#setValidity"></a>
    </div>


    



<div class="description">
    <p>Sets the validity and associated validation message of a record or record field.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for setValidity">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pValidity</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">one of "error", "warning", "valid".</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pRecordId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Value of the record's identity field or array of values of the record's
    identity fields or value returned by <a href="model.html#getRecordId">model#getRecordId</a>.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pFieldName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Name of field that the validity state applies to or null if it applies to the whole record.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pMessage</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Error or warning message text or omit if valid</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Example</h5>
    
        <p class="code-caption">This examples calls a function, <code class="prettyprint">checkRecord</code>, that returns
an error message if the record is not valid and null if it is valid. It then sets the validity of the record.
</p>
    
        <pre class="prettyprint"><code>var invalidReasonMessage = checkRecord( recordId );
if ( invalidReasonMessage ) {
    model.setValidity( "error", recordId, null, invalidReasonMessage );
} else {
    this.model.setValidity( "valid", recordId );
}</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="setValue"><span class="type-signature"></span>setValue<span class="signature">(pRecord<span class="signature-attributes">opt</span>, pFieldName, pValue)</span><span class="type-signature"> &rarr; {string|null}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark setValue(pRecord, pFieldName, pValue) returns {string|null}" href="#setValue"></a>
    </div>


    



<div class="description">
    <p>Set the value of a record field given the record itself
or omit the record when the model shape is record. See also <a href="model.html#getValue">model#getValue</a>.</p>

<p>An error is thrown if the record does not allow editing or the field does not allow being set.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for setValue">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The record that will have a field set to the given value.
 Omit if model shape is record.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pFieldName</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Name of record field to set.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pValue</code></th>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">the value to set</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="model.html#event:set">model#event:set</a></li>
</ul>









<h5>Returns:</h5>

        
<div class="param-desc">
    One of:
<ul>
    <li>"SET": The value was set.</li>
    <li>"DUP": The value was not set because of duplicate identity. This can only happen when setting an
    identity field. Note: Even if the new value is unique on the client it may still result in an
    error when saving because the client in general does not have all the data that the server does.</li>
    <li>"NC": The value was not set because the new value is equal to the old value.</li>
    <li>null: The record is not in the model.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
        <p class="code-caption">This example sets the NAME field of the given record.</p>
    
        <pre class="prettyprint"><code>model.getValue( someRecord, "NAME", newName );</code></pre>
    
        <p class="code-caption">This example sets the identity field PART_NO of the given record. It checks for
a duplicate value and gives a message if the new part number is already taken.</p>
    
        <pre class="prettyprint"><code>var result = model.getValue( someRecord, "PART_NO", newPartNo );
if ( result === "DUP" ) {
    apex.message.alert( "The part number " + newPartNo + " is already taken." );
}</code></pre>
    
        <p class="code-caption">This example sets the NAME field from a record shape model.</p>
    
        <pre class="prettyprint"><code>model.getValue( "NAME", newName );</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="subscribe"><span class="type-signature"></span>subscribe<span class="signature">(pObserver)</span><span class="type-signature"> &rarr; {string}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark subscribe(pObserver) returns {string}" href="#subscribe"></a>
    </div>


    



<div class="description">
    <p>Subscribe to model change notifications by adding an observer.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for subscribe">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pObserver</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Observer">model.Observer</a></span>


            
            </td>

            

            

            <td class="description last">An observer object that includes a callback function to receive notifications.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A viewId to use with <a href="model.html#unSubscribe">model#unSubscribe</a>. This is the same as the
  <code class="prettyprint">viewId</code> property if there is one. One is generated if not given in
  <code class="prettyprint">pObserver</code>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
        <p class="code-caption">This simple example subscribes to a model to handle notifications.</p>
    
        <pre class="prettyprint"><code>var viewId = model.subscribe( {
    onChange: function( changeType, change ) {
        // respond to model changes
    }
} );</code></pre>
    
        <p class="code-caption">This example is typical of what a widget that displays model data would do to subscribe.</p>
    
        <pre class="prettyprint"><code>var viewId = model.subscribe( {
    viewId: this.element[0].id
    onChange: function(changeType, change) {
        // respond to model changes
    },
    progressView: this.element
} );</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="transform"><span class="type-signature"></span>transform<span class="signature">(pOptions, pContext<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark transform(pOptions, pContext) returns {Object}" href="#transform"></a>
    </div>


    



<div class="description">
    <p>Transform a copy of the table shape model data into another data structure according to the provided template rules.
The transformed output data structure is returned.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for transform">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pOptions</code></th>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">An object with properties that define how the model data is to be transformed.
    All properties are optional except for template.
                <h6>Properties</h6>
                

<table class="params" aria-label="Parameters for pOptions">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>template</code></th>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>


            
            </td>

            

            

            <td class="description last">An array of rule objects each one describing where and how to create an array
                          in the output data. Each rule object can have these properties:
                <h6>Properties</h6>
                

<table class="params" aria-label="Parameters for template">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>path</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A "/" separated list of property names or indexed fields. The path specifies
     where in the output object structure to create an (or use existing) array to
     add items to. For example a path of "a/b" will result in output:
 <pre class="prettyprint"><code>
 {
     a: {
         b: [&lt;items go here>]
     }
 }
 </code></pre>
     <p>An indexed field is the name of a record field wrapped in square brackets.
     This creates an array for each unique value of the field. For example a path
     of "a/[ENABLED]/b" where the field ENABLED can have values of "yes" and "no" results in output:</p>
 <pre class="prettyprint"><code>
 {
     a: [
         {
             b: [&lt;items for records with enabled = yes go here>]
         },
         {
             b: [&lt;items for records with enabled = no go here>]
         }
     ]
 }
 </code></pre></td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>filter</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Filter function( model, record, index, id) return true to
    include and return false to skip the given record.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>uniqueIndexField</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The name of a record field. If given an item will be added
    to the array only for the first record with a unique value of this field.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>item</code></th>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">Array</span>
|

<span class="param-type">string</span>
|

<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">An object, string, array or function that
    serves as a template for the elements/items of the output array the resulting value depends on the type:
    <ul>
        <li>string: A string is the name of a record field and the resulting value is the value of that field or
          if it begins and ends with a single quote then the value is the text inside the single quotes or
          if it begins with ( and ends with ) the string inside the parens is the
          name of a record field and the resulting value is the raw value of that field not the display value
          or <code class="prettyprint">showNullAs</code> value.</li>
        <li>function: The resulting value is the return value of the function
          f(pContext, self, record, index, id)</li>
        <li>object: the resulting value is a new object where the properties of the new object
          are the same as the properties of this template object and the value of
          the properties support the same options as item.</li>
        <li>array: The resulting value is a new array where the value items in the new array
          come from the template items in this array. The template items support the same
          options as item.</li>
    </ul></td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>sort</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A function suitable as the argument to
    <code class="prettyprint">Array.prototype.sort</code> that will sort the output array after all
    records are processed.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>filter</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Filter function( model, record, index, id) return true to include and
    return false to skip the given record.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>showNullAs</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A string to substitute for null field values.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>includeAggregates</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">If true aggregate records are included otherwise they are
    skipped this is done before the <code class="prettyprint">filter</code> function is called.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>offset</code></th>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Offset index of first record to process defaults to 0.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>count</code></th>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Count of records starting at <code class="prettyprint">offset</code>
   to process. Defaults to all the data currently in the model.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pContext</code></th>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">This is the output object to return with data arrays filled in based on the
   template rules. If pContext is not given an empty object is used as a starting point. All functions
   are called in the context of this object. Note: if the template rule(s) don't
   have a path then pContext can be an array.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The output data structure. Same object as <code class="prettyprint">pContext</code> if it was given.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">The following example generates groups and series data for a jet Bar chart from a model
created from:<br>
    select job, deptno, avg(sal) as avg_sal from emp group by job, deptno</p>
    
        <pre class="prettyprint"><code>var data = mymodel.transform( {
             template: [ {
                     path: "groups",
                     uniqueIndexField: "DEPTNO",
                     item: { name: "DEPTNO" }
                 }, {
                     path: "series",
                     uniqueIndexField: "JOB",
                     item: { name: "JOB" }
                 }, {
                     path: "series/[JOB]/items",
                     item: { label: "'AVG_SAL'",
                             value: "AVG_SAL",
                             name: "DEPTNO"
                         }
                 } ]
             });</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="unSubscribe"><span class="type-signature"></span>unSubscribe<span class="signature">(pViewId)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark unSubscribe(pViewId)" href="#unSubscribe"></a>
    </div>


    



<div class="description">
    <p>Unsubscribe to model change notifications.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for unSubscribe">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pViewId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The view id returned from <a href="model.html#subscribe">model#subscribe</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Example</h5>
    
        <p class="code-caption">This example unsubscribes from this model using the <code class="prettyprint">viewId</code>
returned when subscribing.</p>
    
        <pre class="prettyprint"><code>model.unSubscribe(viewId);</code></pre>
    


        
            

    

    <div class="hw">
    <h4 class="name" id="walkTree"><span class="type-signature"></span>walkTree<span class="signature">(pNode, pVisitor, pParentNode<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark walkTree(pNode, pVisitor, pParentNode)" href="#walkTree"></a>
    </div>


    



<div class="description">
    <p>Traverse the tree shape model. Methods of the <code class="prettyprint">pVisitor</code> object
are called as follows:</p>
<ul>
    <li>First the visitor <code class="prettyprint">node</code> method is called for the
    <code class="prettyprint">pNode</code> passed to <code class="prettyprint">walkTree</code>.</li>
    <li>If the node has children the remaining steps are done.</li>
    <li>The visitor <code class="prettyprint">beginChildren</code> method is called.</li>
    <li>For each child node <code class="prettyprint">walkTree</code> is called performing these steps recursively.</li>
    <li>The visitor <code class="prettyprint">endChildren</code> method is called.</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for walkTree">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pNode</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The node to start with. This node is visited and then all of its children are.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pVisitor</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params" aria-label="Parameters for pVisitor">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>node</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Function with signature function(node, parent).</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>beginChildren</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Function with signature function(node).</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>endChildren</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Function with signature function(node).</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pParentNode</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Node">model.Node</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The parent node of <code class="prettyprint">pNode</code> or null if
<code class="prettyprint">pNode</code> is the root. If this argument is omitted or undefined and
the model has the <code class="prettyprint">identityField</code> option defined the parent node
will be determined automatically. If this argument is omitted or undefined and
the model does not have the <code class="prettyprint">identityField</code> option defined then
the parent parameter in each call to the visitor <code class="prettyprint">node</code> method is null.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Example</h5>
    
        <p class="code-caption">This example walks the tree shape model starting at the root logging information
about the tree as it goes. Indentation shows the structure of the tree.
The nodes in this model have a NAME field.</p>
    
        <pre class="prettyprint"><code>var indent = "";
model.walkTree( model.root(), {
    node: function( node, parent } {
        console.log( "Node: " + model.getValue( node, "NAME" ) );
    },
    beginChildren: function( node ) {
        indent += "    ";
    },
    endChildren: function( node ) {
        indent = indent.substring(4);
    }
}, null );</code></pre>
    


        
    

    
        <div class="hw">
        <h3 id="typedefs-section" class="subsection-title">
            Type Definitions
        </h3>
        <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark Type Definitions" href="#typedefs-section"></a>
        </div>

        
                

    

    <div class="hw">
    <h4 class="name" id=".CheckCallback"><span class="type-signature"></span>CheckCallback<span class="signature">(pResult, pOperation, pRecord, pAddAction<span class="signature-attributes">opt</span>, pRecordsToAdd<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark CheckCallback(pResult, pOperation, pRecord, pAddAction, pRecordsToAdd) returns {boolean}" href="#.CheckCallback"></a>
    </div>


    



<div class="description">
    <p>A callback function to do additional access checking. See the <code class="prettyprint">check</code>
option property of <a href="apex.model.html#.create">apex.model.create</a> and the <a href="model.html#check">model#check</a> method.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for CheckCallback">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pResult</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The result of the access checking so far.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pOperation</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">One of the default checks ("canEdit", "canDelete", "canAdd", "canDrag") or a custom
  operation.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The record to check if action is allowed on it.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pAddAction</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Only used by allowAdd see <a href="model.html#allowAdd">model#allowAdd</a> for details.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pRecordsToAdd</code></th>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="model.html#.Record">model.Record</a>></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Only used by allowAdd see <a href="model.html#allowAdd">model#allowAdd</a> for details.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true if the operation is allowed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



            
                
<div class="hw">
<h4 class="name" id=".FieldMeta">FieldMeta</h4>
<a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark FieldMeta" href="#.FieldMeta"></a>
</div>




<div class="description">
    The field metadata describes the field and affects how the model uses the field. It may contain additional
properties especially if the metadata is shared with view layers.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>index</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Only used when records are arrays. This is the index into the array where the field
  value is stored.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>defaultValue</code></th>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">This value is used when a new record is added or an existing record is duplicated and noCopy is true.
  The defaultValue has no effect for the identity, meta, children, and parent fields if defined.
  If there is no defaultValue empty string is used.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>parentField</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Only applies if the model has a parentModel. When a new record is added or an existing record is
  duplicated and noCopy is true the value of this field is taken from the parentField of the parentModel
  This is useful for foreign key fields but can be any field that gets a default from the parentModel.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>noCopy</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">If true the field value is not copied when a record is copied/duplicated.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>readonly</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">If true the field cannot be edited.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>volatile</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">The field is generated by the server. It cannot be edited. It is not sent back to the server. This means
  that for records stored as arrays the volatile fields should be at the end or the server must account
  for the missing volatile fields when using other field's index. Volatile fields may depend on (are calculated
  from) other fields and the value may be considered stale if the record is edited. It is up to the view
  layers to make this determination.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>virtual</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">A virtual field has no associated data. None of the other properties apply. The main purpose for
  including a virtual field is so that view layers and the model can share the same field metadata.
  This allows view layers to have fields that don't have corresponding data in the model.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






            
                

    

    <div class="hw">
    <h4 class="name" id=".IteratorCallback"><span class="type-signature"></span>IteratorCallback<span class="signature">(pRecord, pIndex, pId)</span><span class="type-signature"></span></h4>
    <a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark IteratorCallback(pRecord, pIndex, pId)" href="#.IteratorCallback"></a>
    </div>


    



<div class="description">
    This callback is used by the <a href="model.html#forEach">model#forEach</a> and <a href="model.html#forEachInPage">model#forEachInPage</a> methods.
</div>









    <h5>Parameters:</h5>
    

<table class="params" aria-label="Parameters for IteratorCallback">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>pRecord</code></th>
            

            <td class="type">
            
                
<span class="param-type">model.record</span>


            
            </td>

            

            

            <td class="description last">The current record.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pIndex</code></th>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The zero based index within the model collection of the current record.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>pId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The identity of the current record if the model
  <code class="prettyprint">identityField</code> option is given. If there is no identity then this is
  undefined for tree models and is the <code class="prettyprint">pIndex</code> as a string for table models.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















            
                
<div class="hw">
<h4 class="name" id=".ModelId">ModelId</h4>
<a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark ModelId" href="#.ModelId"></a>
</div>




<div class="description">
    <p>A model is uniquely identified by a string name and optional string instance id. The instance id is used to
support multiple detail models in a master detail arrangement. The instance id is the identity value of the
record in the master model for which the detail model pertains. The form for a model id is "name" or a
tuple array ["name","instance"]</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>
|

<span class="param-type">array</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





    <h5>Examples</h5>
    
        <p class="code-caption">A model with no instance.</p>
    
        <pre class="prettyprint"><code>"MyModel"</code></pre>
    
        <p class="code-caption">A detail model with instance id "000109".</p>
    
        <pre class="prettyprint"><code>["MyDetailModel", "000109"]</code></pre>
    


            
                
<div class="hw">
<h4 class="name" id=".Node">Node</h4>
<a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark Node" href="#.Node"></a>
</div>




<div class="description">
    A model node is a synonym for <a href="model.html#.Record">model.Record</a> that is more naturally used when the model has a tree shape.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">array</span>
|

<span class="param-type">object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






            
                
<div class="hw">
<h4 class="name" id=".Observer">Observer</h4>
<a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark Observer" href="#.Observer"></a>
</div>




<div class="description">
    <p>Information about an observer for subscribing to this model. 参见 <a href="model.html#subscribe">model#subscribe</a> and
<a href="model.html#unSubscribe">model#unSubscribe</a>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        
        <th scope="col">Attributes</th>
        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>viewId</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">A unique key that can be used to unsubscribe.
    A DOM element id makes a good unique key.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>onChange</code></th>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">A function to receive change notifications. The signature is
    <code class="prettyprint">function(changeType, change)</code><br>
    <code class="prettyprint">changeType</code> is a string describing the change such as "delete"<br>
    <code class="prettyprint">change</code> is an object with details about the change.<br>
    See each notification for details.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>progressView</code></th>
            

            <td class="type">
            
                
<span class="param-type">jQuery</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">jQuery object to center a progress spinner over while performing an
    asynchronous network operation such as <a href="model.html#fetch">model#fetch</a> or <a href="model.html#save">model#save</a>.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>progressOptions</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">Options object for <a href="apex.util.html#.showSpinner">apex.util.showSpinner</a>.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






            
                
<div class="hw">
<h4 class="name" id=".Record">Record</h4>
<a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark Record" href="#.Record"></a>
</div>




<div class="description">
    A model record is either an array or an object depending on the model option <code class="prettyprint">recordIsArray</code>.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">array</span>
|

<span class="param-type">object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






            
                
<div class="hw">
<h4 class="name" id=".RecordFieldMetadata">RecordFieldMetadata</h4>
<a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark RecordFieldMetadata" href="#.RecordFieldMetadata"></a>
</div>




<div class="description">
    Metadata related to a specific record field.
</div>







    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>error</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the field has an error.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>warning</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the field has a warning.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>message</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Only present when <code class="prettyprint">error</code>
    or <code class="prettyprint">warning</code> are true. Describes the error or warning condition.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>disabled</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the field is disabled. Disabled fields are written to the server as empty string.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>highlight</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A string that view layers can use to provide extra styling for the field.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>ck</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A checksum. If present and not null indicates the record field is readonly.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>url</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Use for cells that are links. This is the link target. The cell value is the link label.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






            
                
<div class="hw">
<h4 class="name" id=".RecordMetadata">RecordMetadata</h4>
<a class="bookmarkable-link" title="Bookmarkable Link" aria-label="Bookmark RecordMetadata" href="#.RecordMetadata"></a>
</div>




<div class="description">
    Metadata properties that the model creates and uses.
</div>







    <h5 class="subsection-title">Properties:</h5>

    

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>deleted</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the record has been deleted otherwise false or undefined.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>inserted</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the record is newly created and inserted/added to the collection otherwise false or undefined.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>autoInserted</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the record was auto inserted (these records are not saved if not also updated)</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>updated</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the record has had any fields changed.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>original</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">When updated is true this is the original record before any changes.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>record</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">Reference to the record that this metadata is about.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>parent</code></th>
            

            <td class="type">
            
                
<span class="param-type"><a href="model.html#.Record">model.Record</a></span>


            
            </td>

            

            

            <td class="description last">The parent record of this record. Only applies to tree shape models.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>error</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the record as a whole has an error.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>warning</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the record as a whole has a warning.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>message</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Only present when <code class="prettyprint">error</code>
    or <code class="prettyprint">warning</code> are true. Describes the error or warning condition.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>sel</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the record is selected and false otherwise.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>highlight</code></th>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A string that view layers can use to provide extra styling for the record.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>allowedOperations</code></th>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>

<table class="props" aria-label="Properties">
    <thead>
    <tr>
        
        <th scope="col">Name</th>
        

        <th scope="col">Type</th>

        

        

        <th scope="col" class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <th scope="row" class="name"><code>delete</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the record can be deleted.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>update</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">true if the record can be updated.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>canEdit</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">Derived from <code class="prettyprint">allowedOperations.update</code></td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>canDelete</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">Derived from <code class="prettyprint">allowedOperations.delete</code></td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>endControlBreak</code></th>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">Used by views to implement control break UI.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>agg</code></th>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">For aggregate records this is truthy.</td>
        </tr>

    

        <tr>
            
                <th scope="row" class="name"><code>fields</code></th>
            

            <td class="type">
            
                
<span class="param-type">Object.&lt;string, <a href="model.html#.RecordFieldMetadata">model.RecordFieldMetadata</a>></span>


            
            </td>

            

            

            <td class="description last">An object that maps from a field name to
    metadata about the field.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






            
    

</article>

</section>





    <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Thu Feb 27 2020 23:50:22 GMT-0800 (Pacific Standard Time)
      <br>
      <span class="product-docs-footer">Oracle Application Express Release 20.1, JavaScript API Reference</span>
      <br>
      <span class="product-docs-footer">Copyright &copy; 2003, 2020, Oracle and/or its affiliates. All rights reserved.</span>
    </footer>
</div>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
<script>
(function() {
    // make skip link work for mobile browsers
    document.getElementById("skipToContent").addEventListener("click", function(e) {
        var target = document.getElementById("main-content");
        e.preventDefault();
        target.setAttribute("tabindex", "-1");
        target.addEventListener("blur", function(e) {
            target.removeAttribute("tabindex");
        });
        target.focus();
    });

    var nav = document.getElementById("nav");
    var currentId = nav.getAttribute("data-current-item");
    if (!currentId) {
        return;
    }
    var link = document.getElementById(currentId);
    if (!link) {
        return;
    }
    link.className = link.className ? link.className + " current-nav-item" : "current-nav-item";
    nav.scrollTop = link.offsetTop + (link.offsetHeight - nav.offsetHeight)/2;
})();
</script>

</body>
</html>