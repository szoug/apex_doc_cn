<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="DC.Type" content="reference">
      <meta name="DC.Title" content="POPUPKEY_FROM_QUERY Function">
      <meta name="DC.subject" content="APEX_ITEM, POPUPKEY_FROM_QUERY function">
      <meta name="keywords" content="APEX_ITEM, POPUPKEY_FROM_QUERY function">
      <meta name="DC.Relation" scheme="URI" content="APEX_ITEM.html#GUID-A111B577-2503-4F4E-962E-192C7D5B5338">
      <meta name="DC.Creator" content="Harish Konakondla">
      <meta name="DC.Creator" content="Christina Cho">
      <meta name="DC.Creator" content="Hilary Farrell">
      <meta name="DC.Creator" content="Joel Kallman">
      <meta name="DC.Creator" content="Sharon Kennedy">
      <meta name="DC.Creator" content="Christian Neumueller">
      <meta name="DC.Creator" content="Anthony Raynor">
      <meta name="DC.Creator" content="Marc Sewtz">
      <meta name="DC.Creator" content="John Snyders">
      <meta name="DC.Creator" content="Jason Straub">
      <meta name="DC.Creator" content="Vladislav Unarov">
      <meta name="DC.Creator" content="Patrick Wolf">
      <meta name="DC.Creator" content="Terri Jennings">
      <meta name="DC.Publisher" content="May2020">
      <meta name="DC.Format" content="XHTML">
      <meta name="DC.Identifier" content="GUID-6BF28C46-B6DA-4742-A487-1BEDE8E552F9">
      <meta name="DC.Language" content="en-US">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>POPUPKEY_FROM_QUERY Function</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-application-express-api-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2020-05-22T13:42:07-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2020">
      <meta name="dcterms.category" content="database">
      
      
      <meta name="dcterms.product" content="en/database/oracle/application-express/20.1">
      
      <link rel="prev" href="POPUPKEY_FROM_LOV-Function.html" title="Previous" type="text/html">
      <link rel="next" href="RADIOGROUP-Function.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"application-express","element_name":"Application Express","display_in_url":true},"release":{"short_name":"20.1","element_name":"Release 20.1","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Application Express API Reference">
    <meta name="dcterms.isVersionOf" content="AEAPI">
    <meta name="dcterms.identifier" content="F24719-02">
    <meta name="dcterms.release" content="Release 20.1">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="POPUPKEY_FROM_LOV-Function.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="RADIOGROUP-Function.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="APEX_ITEM.html" property="item" typeof="WebPage"><span property="name"> APEX_ITEM</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">POPUPKEY_FROM_QUERY Function</li>
            </ol>
            <a id="GUID-6BF28C46-B6DA-4742-A487-1BEDE8E552F9" name="GUID-6BF28C46-B6DA-4742-A487-1BEDE8E552F9"></a><a id="AEAPI1046"></a><a id="AEAPI1047"></a><a id="AEAPI1048"></a><a id="AEAPI1049"></a><a id="AEAPI203"></a>
            
            <h2 id="AEAPI-GUID-6BF28C46-B6DA-4742-A487-1BEDE8E552F9" class="sect2"><span class="enumeration_section">21.11 </span>POPUPKEY_FROM_QUERY Function
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>This function generates a popup key select list from a SQL query. Similar to other available functions in the <code class="codeph">APEX_ITEM</code> package, the <code class="codeph">POPUPKEY_FROM_QUERY</code> function is designed to generate forms with <code class="codeph">F01</code> to <code class="codeph">F50</code> form array elements. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6BF28C46-B6DA-4742-A487-1BEDE8E552F9__GUID-25E0FD0E-CA92-4FFA-938F-6A1ECAFB598F">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section"><pre class="pre codeblock"><code>APEX_ITEM.POPUPKEY_FROM_QUERY(
    p_idx              IN    NUMBER,
    p_value            IN    VARCHAR2 DEFAULT NULL,
    p_lov_query        IN    VARCHAR2,
    p_width            IN    VARCHAR2 DEFAULT NULL,
    p_max_length       IN    VARCHAR2 DEFAULT NULL,
    p_form_index       IN    VARCHAR2 DEFAULT '0',
    p_escape_html      IN    VARCHAR2 DEFAULT NULL,
    p_max_elements     IN    VARCHAR2 DEFAULT NULL,
    p_attributes       IN    VARCHAR2 DEFAULT NULL,
    p_ok_to_query      IN    VARCHAR2 DEFAULT 'YES',
    p_item_id          IN    VARCHAR2 DEFAULT NULL,
    p_item_label       IN    VARCHAR2 DEFAULT NULL)
    RETURN VARCHAR2;
</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6BF28C46-B6DA-4742-A487-1BEDE8E552F9__GUID-B71C5391-4777-46AC-B7E5-E13D4E931742">Parameters</p>
                  <div class="tblformal" id="GUID-6BF28C46-B6DA-4742-A487-1BEDE8E552F9__CHDDDHEI">
                     <p class="titleintable">Table 21-11 POPUPKEY_FROM_QUERY Parameters</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="POPUPKEY_FROM_QUERY Parameters" summary="Parameter descriptions for the POPUPKEY_FROM_QUERY function." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d98816e85">Parameter</th>
                              <th align="left" valign="bottom" width="75%" id="d98816e88">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e93" headers="d98816e85 ">
                                 <p><code class="codeph">p_idx</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e93 d98816e88 ">
                                 <p>Form element name. For example, <code class="codeph">1</code> equals <code class="codeph">F01</code> and <code class="codeph">2</code> equals <code class="codeph">F02</code>. Typically, <code class="codeph">p_idx</code> is a constant for a given column.
                                 </p>
                                 <p>Because of the behavior of <code class="codeph">POPUPKEY_FROM_QUERY</code>, the next index value should be <code class="codeph">p_idx + 1</code>. For example:
                                 </p><pre class="oac_no_warn" dir="ltr">SELECT APEX_ITEM.POPUPKEY_FROM_QUERY (1,deptno,'SELECT dname, deptno FROM dept') dt,
APEX_ITEM.HIDDEN(3,empno) eno
</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e126" headers="d98816e85 ">
                                 <p><code class="codeph">p_value</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e126 d98816e88 ">
                                 <p>Form element current value. This value should be one of the values in the <code class="codeph">P_LOV_QUERY</code> parameter. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e137" headers="d98816e85 ">
                                 <p><code class="codeph">p_lov_query</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e137 d98816e88 ">
                                 <p>LOV query used for this popup.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e145" headers="d98816e85 ">
                                 <p><code class="codeph">p_width</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e145 d98816e88 ">
                                 <p>Width of the text box.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e153" headers="d98816e85 ">
                                 <p><code class="codeph">p_max_length</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e153 d98816e88 ">
                                 <p>Maximum number of characters that can be entered in the text box.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e161" headers="d98816e85 ">
                                 <p><code class="codeph">p_form_index</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e161 d98816e88 ">
                                 <p>HTML form on the page in which an item is contained. Defaults to 0 and rarely used. </p>
                                 <p>Only use this parameter when it is necessary to embed a custom form in your page template (such as a search field that posts to a different website). If this form comes before the <code class="codeph">#FORM_OPEN#</code> substitution string, then its index is zero and the form opened automatically by Oracle Application Express must be referenced as form 1. This functionality supports the JavaScript used in the popup LOV that passes a value back to a form element.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e174" headers="d98816e85 ">
                                 <p><code class="codeph">p_escape_html</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e174 d98816e88 ">
                                 <p>Replacements for special characters that require an escaped equivalent. </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">&amp;lt;</code> for <code class="codeph">&lt;</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&amp;gt;</code> for <code class="codeph">&gt;</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&amp;amp;</code> for <code class="codeph">&amp;</code></p>
                                    </li>
                                 </ul>
                                 <p>This parameter is useful if you know your query returns illegal HTML.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e206" headers="d98816e85 ">
                                 <p><code class="codeph">p_max_elements</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e206 d98816e88 ">
                                 <p>Limit on the number of rows that can be returned by your query. Limits the performance impact of user searches. By entering a value in this parameter, you force the user to search for a narrower set of results.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e214" headers="d98816e85 ">
                                 <p><code class="codeph">p_attributes</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e214 d98816e88 ">
                                 <p>Additional HTML attributes to use for the form item.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e222" headers="d98816e85 ">
                                 <p><code class="codeph">p_ok_to_query</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e222 d98816e88 ">
                                 <p>Range of values is <code class="codeph">YES</code> and <code class="codeph">NO</code>. If <code class="codeph">YES</code>, a popup returns first set of rows for the LOV. If <code class="codeph">NO</code>, a search is initiated to return rows.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e242" headers="d98816e85 ">
                                 <p><code class="codeph">p_item_id</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e242 d98816e88 ">
                                 <p>ID attribute of the form element.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d98816e251" headers="d98816e85 ">
                                 <p><code class="codeph">p_item_label</code></p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d98816e251 d98816e88 ">
                                 <p>Invisible label created for the item.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6BF28C46-B6DA-4742-A487-1BEDE8E552F9__GUID-591471BE-F167-4DC4-9607-834C44D5B745">Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following example demonstrates how to generate a popup select list from a SQL query. </p><pre class="pre codeblock"><code>SELECT APEX_ITEM.POPUPKEY_FROM_QUERY (1,deptno,'SELECT dname, deptno FROM dept') dt 
FROM emp
</code></pre></div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="APEX_ITEM.html#GUID-A111B577-2503-4F4E-962E-192C7D5B5338">APEX_ITEM</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>